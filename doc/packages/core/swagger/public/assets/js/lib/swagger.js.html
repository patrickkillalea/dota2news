<!DOCTYPE html>
<html>
<head>
  <title>swagger.js</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <link rel="stylesheet" media="all" href="../../../../../../../doc-style.css" />
  <script src="../../../../../../../doc-filelist.js"></script>
  <script>
    var relativeDir = "../../../../../../../", thisFile = "packages/core/swagger/public/assets/js/lib/swagger.js", defaultSidebar = true;
  </script>
  <script src="../../../../../../../doc-script.js"></script>
</head>
<body>
  <div id="sidebar_wrapper">
    <div id="sidebar_switch">
      <span class="tree">Files</span>
      <span class="headings">Headings</span>
    </div>
    <div id="tree"></div>
    <div id="headings">
    </div>
  </div>
  <div id="sidebar-toggle"></div>
  <div id="container"><div class="background highlight"></div>
<table cellpadding="0" cellspacing="0">
  <tbody>
      <tr>
        <td class="docs">
          <h1>swagger.js</h1>
        </td>
        <td class="code highlight"></td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-1" id="section-1">&#182;</a>
</div>
<p>swagger.js
version 2.0.39</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre><span class="kd">var</span> <span class="nx">__bind</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">fn</span><span class="p">,</span> <span class="nx">me</span><span class="p">){</span>
  <span class="k">return</span> <span class="kd">function</span><span class="p">(){</span>
    <span class="k">return</span> <span class="nx">fn</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="nx">me</span><span class="p">,</span> <span class="nx">arguments</span><span class="p">);</span>
  <span class="p">};</span>
<span class="p">};</span>

<span class="nx">log</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span>
  <span class="nx">log</span><span class="p">.</span><span class="nx">history</span> <span class="o">=</span> <span class="nx">log</span><span class="p">.</span><span class="nx">history</span> <span class="o">||</span> <span class="p">[];</span>
  <span class="nx">log</span><span class="p">.</span><span class="nx">history</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">arguments</span><span class="p">);</span>
  <span class="k">if</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">console</span><span class="p">){</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span> <span class="nb">Array</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">slice</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">arguments</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span> <span class="p">);</span>
  <span class="p">}</span>
<span class="p">};</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-2" id="section-2">&#182;</a>
</div>
<p>if you want to apply conditional formatting of parameter values</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="nx">parameterMacro</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="nx">value</span><span class="p">;</span>
<span class="p">}</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-3" id="section-3">&#182;</a>
</div>
<p>if you want to apply conditional formatting of model property values</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="nx">modelPropertyMacro</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="nx">value</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nb">Array</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">)</span> <span class="p">{</span>
  <span class="nb">Array</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">indexOf</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">obj</span><span class="p">,</span> <span class="nx">start</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="p">(</span><span class="nx">start</span> <span class="o">||</span> <span class="mi">0</span><span class="p">),</span> <span class="nx">j</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">j</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="o">===</span> <span class="nx">obj</span><span class="p">)</span> <span class="p">{</span> <span class="k">return</span> <span class="nx">i</span><span class="p">;</span> <span class="p">}</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="p">(</span><span class="s1">&#39;filter&#39;</span> <span class="k">in</span> <span class="nb">Array</span><span class="p">.</span><span class="nx">prototype</span><span class="p">))</span> <span class="p">{</span>
  <span class="nb">Array</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">filter</span><span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">filter</span><span class="p">,</span> <span class="nx">that</span> <span class="cm">/*opt*/</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">other</span><span class="o">=</span> <span class="p">[],</span> <span class="nx">v</span><span class="p">;</span>
    <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="nx">n</span><span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">&lt;</span><span class="nx">n</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span>
      <span class="k">if</span> <span class="p">(</span><span class="nx">i</span> <span class="k">in</span> <span class="k">this</span> <span class="o">&amp;&amp;</span> <span class="nx">filter</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">that</span><span class="p">,</span> <span class="nx">v</span><span class="o">=</span> <span class="k">this</span><span class="p">[</span><span class="nx">i</span><span class="p">],</span> <span class="nx">i</span><span class="p">,</span> <span class="k">this</span><span class="p">))</span>
        <span class="nx">other</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">v</span><span class="p">);</span>
    <span class="k">return</span> <span class="nx">other</span><span class="p">;</span>
  <span class="p">};</span>
<span class="p">}</span>

<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="p">(</span><span class="s1">&#39;map&#39;</span> <span class="k">in</span> <span class="nb">Array</span><span class="p">.</span><span class="nx">prototype</span><span class="p">))</span> <span class="p">{</span>
  <span class="nb">Array</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">map</span><span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">mapper</span><span class="p">,</span> <span class="nx">that</span> <span class="cm">/*opt*/</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">other</span><span class="o">=</span> <span class="k">new</span> <span class="nb">Array</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">length</span><span class="p">);</span>
    <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">n</span><span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">&lt;</span><span class="nx">n</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span>
      <span class="k">if</span> <span class="p">(</span><span class="nx">i</span> <span class="k">in</span> <span class="k">this</span><span class="p">)</span>
        <span class="nx">other</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span><span class="o">=</span> <span class="nx">mapper</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">that</span><span class="p">,</span> <span class="k">this</span><span class="p">[</span><span class="nx">i</span><span class="p">],</span> <span class="nx">i</span><span class="p">,</span> <span class="k">this</span><span class="p">);</span>
    <span class="k">return</span> <span class="nx">other</span><span class="p">;</span>
  <span class="p">};</span>
<span class="p">}</span>

<span class="nb">Object</span><span class="p">.</span><span class="nx">keys</span> <span class="o">=</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">keys</span> <span class="o">||</span> <span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">hasOwnProperty</span> <span class="o">=</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">hasOwnProperty</span><span class="p">,</span>
    <span class="nx">hasDontEnumBug</span> <span class="o">=</span> <span class="o">!</span><span class="p">{</span><span class="nx">toString</span><span class="o">:</span><span class="kc">null</span><span class="p">}.</span><span class="nx">propertyIsEnumerable</span><span class="p">(</span><span class="s2">&quot;toString&quot;</span><span class="p">),</span>
    <span class="nx">DontEnums</span> <span class="o">=</span> <span class="p">[</span>
      <span class="s1">&#39;toString&#39;</span><span class="p">,</span>
      <span class="s1">&#39;toLocaleString&#39;</span><span class="p">,</span>
      <span class="s1">&#39;valueOf&#39;</span><span class="p">,</span>
      <span class="s1">&#39;hasOwnProperty&#39;</span><span class="p">,</span>
      <span class="s1">&#39;isPrototypeOf&#39;</span><span class="p">,</span>
      <span class="s1">&#39;propertyIsEnumerable&#39;</span><span class="p">,</span>
      <span class="s1">&#39;constructor&#39;</span>
    <span class="p">],</span>
  <span class="nx">DontEnumsLength</span> <span class="o">=</span> <span class="nx">DontEnums</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span>

  <span class="k">return</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">o</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">o</span> <span class="o">!=</span> <span class="s2">&quot;object&quot;</span> <span class="o">&amp;&amp;</span> <span class="k">typeof</span> <span class="nx">o</span> <span class="o">!=</span> <span class="s2">&quot;function&quot;</span> <span class="o">||</span> <span class="nx">o</span> <span class="o">===</span> <span class="kc">null</span><span class="p">)</span>
      <span class="k">throw</span> <span class="k">new</span> <span class="nx">TypeError</span><span class="p">(</span><span class="s2">&quot;Object.keys called on a non-object&quot;</span><span class="p">);</span>

    <span class="kd">var</span> <span class="nx">result</span> <span class="o">=</span> <span class="p">[];</span>
    <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">name</span> <span class="k">in</span> <span class="nx">o</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">if</span> <span class="p">(</span><span class="nx">hasOwnProperty</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">o</span><span class="p">,</span> <span class="nx">name</span><span class="p">))</span>
        <span class="nx">result</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">name</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="k">if</span> <span class="p">(</span><span class="nx">hasDontEnumBug</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">DontEnumsLength</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">hasOwnProperty</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">o</span><span class="p">,</span> <span class="nx">DontEnums</span><span class="p">[</span><span class="nx">i</span><span class="p">]))</span>
          <span class="nx">result</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">DontEnums</span><span class="p">[</span><span class="nx">i</span><span class="p">]);</span>
      <span class="p">}</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="nx">result</span><span class="p">;</span>
  <span class="p">};</span>
<span class="p">})();</span>

<span class="kd">var</span> <span class="nx">SwaggerApi</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span> <span class="nx">options</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">isBuilt</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">url</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">debug</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">basePath</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">authorizations</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">authorizationScheme</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">info</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">useJQuery</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">modelsArray</span> <span class="o">=</span> <span class="p">[];</span>

  <span class="nx">options</span> <span class="o">=</span> <span class="p">(</span><span class="nx">options</span><span class="o">||</span><span class="p">{});</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">url</span><span class="p">)</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">url</span><span class="p">.</span><span class="nx">url</span><span class="p">)</span>
      <span class="nx">options</span> <span class="o">=</span> <span class="nx">url</span><span class="p">;</span>
    <span class="k">else</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">url</span> <span class="o">=</span> <span class="nx">url</span><span class="p">;</span>
  <span class="k">else</span>
    <span class="nx">options</span> <span class="o">=</span> <span class="nx">url</span><span class="p">;</span>

  <span class="k">if</span> <span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">url</span> <span class="o">!=</span> <span class="kc">null</span><span class="p">)</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">url</span> <span class="o">=</span> <span class="nx">options</span><span class="p">.</span><span class="nx">url</span><span class="p">;</span>

  <span class="k">if</span> <span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">success</span> <span class="o">!=</span> <span class="kc">null</span><span class="p">)</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">success</span> <span class="o">=</span> <span class="nx">options</span><span class="p">.</span><span class="nx">success</span><span class="p">;</span>

  <span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">options</span><span class="p">.</span><span class="nx">useJQuery</span> <span class="o">===</span> <span class="s1">&#39;boolean&#39;</span><span class="p">)</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">useJQuery</span> <span class="o">=</span> <span class="nx">options</span><span class="p">.</span><span class="nx">useJQuery</span><span class="p">;</span>

  <span class="k">this</span><span class="p">.</span><span class="nx">failure</span> <span class="o">=</span> <span class="nx">options</span><span class="p">.</span><span class="nx">failure</span> <span class="o">!=</span> <span class="kc">null</span> <span class="o">?</span> <span class="nx">options</span><span class="p">.</span><span class="nx">failure</span> <span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{};</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">progress</span> <span class="o">=</span> <span class="nx">options</span><span class="p">.</span><span class="nx">progress</span> <span class="o">!=</span> <span class="kc">null</span> <span class="o">?</span> <span class="nx">options</span><span class="p">.</span><span class="nx">progress</span> <span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{};</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">success</span> <span class="o">!=</span> <span class="kc">null</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">build</span><span class="p">();</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">isBuilt</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="nx">SwaggerApi</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">build</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">if</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">isBuilt</span><span class="p">)</span>
    <span class="k">return</span> <span class="k">this</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">_this</span> <span class="o">=</span> <span class="k">this</span><span class="p">;</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">progress</span><span class="p">(</span><span class="s1">&#39;fetching resource list: &#39;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">url</span><span class="p">);</span>
  <span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">useJQuery</span><span class="o">:</span> <span class="k">this</span><span class="p">.</span><span class="nx">useJQuery</span><span class="p">,</span>
    <span class="nx">url</span><span class="o">:</span> <span class="k">this</span><span class="p">.</span><span class="nx">url</span><span class="p">,</span>
    <span class="nx">method</span><span class="o">:</span> <span class="s2">&quot;get&quot;</span><span class="p">,</span>
    <span class="nx">headers</span><span class="o">:</span> <span class="p">{</span>
      <span class="nx">accept</span><span class="o">:</span> <span class="s2">&quot;application/json,application/json;charset=\&quot;utf-8\&quot;,*/*&quot;</span>
    <span class="p">},</span>
    <span class="nx">on</span><span class="o">:</span> <span class="p">{</span>
      <span class="nx">error</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">_this</span><span class="p">.</span><span class="nx">url</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span> <span class="o">!==</span> <span class="s1">&#39;http&#39;</span><span class="p">)</span> <span class="p">{</span>
          <span class="k">return</span> <span class="nx">_this</span><span class="p">.</span><span class="nx">fail</span><span class="p">(</span><span class="s1">&#39;Please specify the protocol for &#39;</span> <span class="o">+</span> <span class="nx">_this</span><span class="p">.</span><span class="nx">url</span><span class="p">);</span>
        <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">status</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
          <span class="k">return</span> <span class="nx">_this</span><span class="p">.</span><span class="nx">fail</span><span class="p">(</span><span class="s1">&#39;Can\&#39;t read from server.  It may not have the appropriate access-control-origin settings.&#39;</span><span class="p">);</span>
        <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">status</span> <span class="o">===</span> <span class="mi">404</span><span class="p">)</span> <span class="p">{</span>
          <span class="k">return</span> <span class="nx">_this</span><span class="p">.</span><span class="nx">fail</span><span class="p">(</span><span class="s1">&#39;Can\&#39;t read swagger JSON from &#39;</span> <span class="o">+</span> <span class="nx">_this</span><span class="p">.</span><span class="nx">url</span><span class="p">);</span>
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
          <span class="k">return</span> <span class="nx">_this</span><span class="p">.</span><span class="nx">fail</span><span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">status</span> <span class="o">+</span> <span class="s1">&#39; : &#39;</span> <span class="o">+</span> <span class="nx">response</span><span class="p">.</span><span class="nx">statusText</span> <span class="o">+</span> <span class="s1">&#39; &#39;</span> <span class="o">+</span> <span class="nx">_this</span><span class="p">.</span><span class="nx">url</span><span class="p">);</span>
        <span class="p">}</span>
      <span class="p">},</span>
      <span class="nx">response</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">resp</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">responseObj</span> <span class="o">=</span> <span class="nx">resp</span><span class="p">.</span><span class="nx">obj</span> <span class="o">||</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="nx">resp</span><span class="p">.</span><span class="nx">data</span><span class="p">);</span>
        <span class="nx">_this</span><span class="p">.</span><span class="nx">swaggerVersion</span> <span class="o">=</span> <span class="nx">responseObj</span><span class="p">.</span><span class="nx">swaggerVersion</span><span class="p">;</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">_this</span><span class="p">.</span><span class="nx">swaggerVersion</span> <span class="o">===</span> <span class="s2">&quot;1.2&quot;</span><span class="p">)</span> <span class="p">{</span>
          <span class="k">return</span> <span class="nx">_this</span><span class="p">.</span><span class="nx">buildFromSpec</span><span class="p">(</span><span class="nx">responseObj</span><span class="p">);</span>
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
          <span class="k">return</span> <span class="nx">_this</span><span class="p">.</span><span class="nx">buildFrom1_1Spec</span><span class="p">(</span><span class="nx">responseObj</span><span class="p">);</span>
        <span class="p">}</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">};</span>
  <span class="kd">var</span> <span class="nx">e</span> <span class="o">=</span> <span class="p">(</span><span class="k">typeof</span> <span class="nb">window</span> <span class="o">!==</span> <span class="s1">&#39;undefined&#39;</span> <span class="o">?</span> <span class="nb">window</span> <span class="o">:</span> <span class="nx">exports</span><span class="p">);</span>
  <span class="nx">e</span><span class="p">.</span><span class="nx">authorizations</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="nx">obj</span><span class="p">);</span>
  <span class="k">new</span> <span class="nx">SwaggerHttp</span><span class="p">().</span><span class="nx">execute</span><span class="p">(</span><span class="nx">obj</span><span class="p">);</span>
  <span class="k">return</span> <span class="k">this</span><span class="p">;</span>
<span class="p">};</span>

<span class="nx">SwaggerApi</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">buildFromSpec</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">apiVersion</span> <span class="o">!=</span> <span class="kc">null</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">apiVersion</span> <span class="o">=</span> <span class="nx">response</span><span class="p">.</span><span class="nx">apiVersion</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">apis</span> <span class="o">=</span> <span class="p">{};</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">apisArray</span> <span class="o">=</span> <span class="p">[];</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">consumes</span> <span class="o">=</span> <span class="nx">response</span><span class="p">.</span><span class="nx">consumes</span><span class="p">;</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">produces</span> <span class="o">=</span> <span class="nx">response</span><span class="p">.</span><span class="nx">produces</span><span class="p">;</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">authSchemes</span> <span class="o">=</span> <span class="nx">response</span><span class="p">.</span><span class="nx">authorizations</span><span class="p">;</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">info</span> <span class="o">!=</span> <span class="kc">null</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">info</span> <span class="o">=</span> <span class="nx">response</span><span class="p">.</span><span class="nx">info</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="kd">var</span> <span class="nx">isApi</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">i</span><span class="p">;</span>
  <span class="k">for</span> <span class="p">(</span><span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">response</span><span class="p">.</span><span class="nx">apis</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">api</span> <span class="o">=</span> <span class="nx">response</span><span class="p">.</span><span class="nx">apis</span><span class="p">[</span><span class="nx">i</span><span class="p">];</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">api</span><span class="p">.</span><span class="nx">operations</span><span class="p">)</span> <span class="p">{</span>
      <span class="kd">var</span> <span class="nx">j</span><span class="p">;</span>
      <span class="k">for</span> <span class="p">(</span><span class="nx">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">j</span> <span class="o">&lt;</span> <span class="nx">api</span><span class="p">.</span><span class="nx">operations</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">j</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">operation</span> <span class="o">=</span> <span class="nx">api</span><span class="p">.</span><span class="nx">operations</span><span class="p">[</span><span class="nx">j</span><span class="p">];</span>
        <span class="nx">isApi</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">}</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">basePath</span><span class="p">)</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">basePath</span> <span class="o">=</span> <span class="nx">response</span><span class="p">.</span><span class="nx">basePath</span><span class="p">;</span>
  <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">url</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="s1">&#39;?&#39;</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">basePath</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">url</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">url</span><span class="p">.</span><span class="nx">lastIndexOf</span><span class="p">(</span><span class="s1">&#39;?&#39;</span><span class="p">));</span>
  <span class="k">else</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">basePath</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">url</span><span class="p">;</span>

  <span class="k">if</span> <span class="p">(</span><span class="nx">isApi</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">newName</span> <span class="o">=</span> <span class="nx">response</span><span class="p">.</span><span class="nx">resourcePath</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/\//g</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">);</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">resourcePath</span> <span class="o">=</span> <span class="nx">response</span><span class="p">.</span><span class="nx">resourcePath</span><span class="p">;</span>
    <span class="nx">res</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">SwaggerResource</span><span class="p">(</span><span class="nx">response</span><span class="p">,</span> <span class="k">this</span><span class="p">);</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">apis</span><span class="p">[</span><span class="nx">newName</span><span class="p">]</span> <span class="o">=</span> <span class="nx">res</span><span class="p">;</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">apisArray</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">res</span><span class="p">);</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">k</span><span class="p">;</span>
    <span class="k">for</span> <span class="p">(</span><span class="nx">k</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">k</span> <span class="o">&lt;</span> <span class="nx">response</span><span class="p">.</span><span class="nx">apis</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">k</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
      <span class="kd">var</span> <span class="nx">resource</span> <span class="o">=</span> <span class="nx">response</span><span class="p">.</span><span class="nx">apis</span><span class="p">[</span><span class="nx">k</span><span class="p">];</span>
      <span class="nx">res</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">SwaggerResource</span><span class="p">(</span><span class="nx">resource</span><span class="p">,</span> <span class="k">this</span><span class="p">);</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">apis</span><span class="p">[</span><span class="nx">res</span><span class="p">.</span><span class="nx">name</span><span class="p">]</span> <span class="o">=</span> <span class="nx">res</span><span class="p">;</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">apisArray</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">res</span><span class="p">);</span>
    <span class="p">}</span>
  <span class="p">}</span>
  <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">success</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">success</span><span class="p">();</span>
  <span class="p">}</span>
  <span class="k">return</span> <span class="k">this</span><span class="p">;</span>
<span class="p">};</span>

<span class="nx">SwaggerApi</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">buildFrom1_1Spec</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">log</span><span class="p">(</span><span class="s2">&quot;This API is using a deprecated version of Swagger!  Please see http://github.com/wordnik/swagger-core/wiki for more info&quot;</span><span class="p">);</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">apiVersion</span> <span class="o">!=</span> <span class="kc">null</span><span class="p">)</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">apiVersion</span> <span class="o">=</span> <span class="nx">response</span><span class="p">.</span><span class="nx">apiVersion</span><span class="p">;</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">apis</span> <span class="o">=</span> <span class="p">{};</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">apisArray</span> <span class="o">=</span> <span class="p">[];</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">produces</span> <span class="o">=</span> <span class="nx">response</span><span class="p">.</span><span class="nx">produces</span><span class="p">;</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">info</span> <span class="o">!=</span> <span class="kc">null</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">info</span> <span class="o">=</span> <span class="nx">response</span><span class="p">.</span><span class="nx">info</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="kd">var</span> <span class="nx">isApi</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
  <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">response</span><span class="p">.</span><span class="nx">apis</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">api</span> <span class="o">=</span> <span class="nx">response</span><span class="p">.</span><span class="nx">apis</span><span class="p">[</span><span class="nx">i</span><span class="p">];</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">api</span><span class="p">.</span><span class="nx">operations</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">j</span> <span class="o">&lt;</span> <span class="nx">api</span><span class="p">.</span><span class="nx">operations</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">j</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">operation</span> <span class="o">=</span> <span class="nx">api</span><span class="p">.</span><span class="nx">operations</span><span class="p">[</span><span class="nx">j</span><span class="p">];</span>
        <span class="nx">isApi</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">}</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">basePath</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">basePath</span> <span class="o">=</span> <span class="nx">response</span><span class="p">.</span><span class="nx">basePath</span><span class="p">;</span>
  <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">url</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="s1">&#39;?&#39;</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">basePath</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">url</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">url</span><span class="p">.</span><span class="nx">lastIndexOf</span><span class="p">(</span><span class="s1">&#39;?&#39;</span><span class="p">));</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">basePath</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">url</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">isApi</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">newName</span> <span class="o">=</span> <span class="nx">response</span><span class="p">.</span><span class="nx">resourcePath</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/\//g</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">);</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">resourcePath</span> <span class="o">=</span> <span class="nx">response</span><span class="p">.</span><span class="nx">resourcePath</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">res</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">SwaggerResource</span><span class="p">(</span><span class="nx">response</span><span class="p">,</span> <span class="k">this</span><span class="p">);</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">apis</span><span class="p">[</span><span class="nx">newName</span><span class="p">]</span> <span class="o">=</span> <span class="nx">res</span><span class="p">;</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">apisArray</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">res</span><span class="p">);</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="k">for</span> <span class="p">(</span><span class="nx">k</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">k</span> <span class="o">&lt;</span> <span class="nx">response</span><span class="p">.</span><span class="nx">apis</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">k</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">resource</span> <span class="o">=</span> <span class="nx">response</span><span class="p">.</span><span class="nx">apis</span><span class="p">[</span><span class="nx">k</span><span class="p">];</span>
      <span class="nx">res</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">SwaggerResource</span><span class="p">(</span><span class="nx">resource</span><span class="p">,</span> <span class="k">this</span><span class="p">);</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">apis</span><span class="p">[</span><span class="nx">res</span><span class="p">.</span><span class="nx">name</span><span class="p">]</span> <span class="o">=</span> <span class="nx">res</span><span class="p">;</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">apisArray</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">res</span><span class="p">);</span>
    <span class="p">}</span>
  <span class="p">}</span>
  <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">success</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">success</span><span class="p">();</span>
  <span class="p">}</span>
  <span class="k">return</span> <span class="k">this</span><span class="p">;</span>
<span class="p">};</span>

<span class="nx">SwaggerApi</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">selfReflect</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">resource</span><span class="p">,</span> <span class="nx">resource_name</span><span class="p">,</span> <span class="nx">_ref</span><span class="p">;</span>
  <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">apis</span> <span class="o">==</span> <span class="kc">null</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="nx">_ref</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">apis</span><span class="p">;</span>
  <span class="k">for</span> <span class="p">(</span><span class="nx">resource_name</span> <span class="k">in</span> <span class="nx">_ref</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">resource</span> <span class="o">=</span> <span class="nx">_ref</span><span class="p">[</span><span class="nx">resource_name</span><span class="p">];</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">resource</span><span class="p">.</span><span class="nx">ready</span> <span class="o">==</span> <span class="kc">null</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="p">}</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">setConsolidatedModels</span><span class="p">();</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">ready</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
  <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">success</span> <span class="o">!=</span> <span class="kc">null</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">success</span><span class="p">();</span>
  <span class="p">}</span>
<span class="p">};</span>

<span class="nx">SwaggerApi</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">fail</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">message</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">failure</span><span class="p">(</span><span class="nx">message</span><span class="p">);</span>
  <span class="k">throw</span> <span class="nx">message</span><span class="p">;</span>
<span class="p">};</span>

<span class="nx">SwaggerApi</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">setConsolidatedModels</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">model</span><span class="p">,</span> <span class="nx">modelName</span><span class="p">,</span> <span class="nx">resource</span><span class="p">,</span> <span class="nx">resource_name</span><span class="p">,</span> <span class="nx">_i</span><span class="p">,</span> <span class="nx">_len</span><span class="p">,</span> <span class="nx">_ref</span><span class="p">,</span> <span class="nx">_ref1</span><span class="p">,</span> <span class="nx">_results</span><span class="p">;</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">models</span> <span class="o">=</span> <span class="p">{};</span>
  <span class="nx">_ref</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">apis</span><span class="p">;</span>
  <span class="k">for</span> <span class="p">(</span><span class="nx">resource_name</span> <span class="k">in</span> <span class="nx">_ref</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">resource</span> <span class="o">=</span> <span class="nx">_ref</span><span class="p">[</span><span class="nx">resource_name</span><span class="p">];</span>
    <span class="k">for</span> <span class="p">(</span><span class="nx">modelName</span> <span class="k">in</span> <span class="nx">resource</span><span class="p">.</span><span class="nx">models</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">models</span><span class="p">[</span><span class="nx">modelName</span><span class="p">]</span> <span class="o">==</span> <span class="kc">null</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">models</span><span class="p">[</span><span class="nx">modelName</span><span class="p">]</span> <span class="o">=</span> <span class="nx">resource</span><span class="p">.</span><span class="nx">models</span><span class="p">[</span><span class="nx">modelName</span><span class="p">];</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">modelsArray</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">resource</span><span class="p">.</span><span class="nx">models</span><span class="p">[</span><span class="nx">modelName</span><span class="p">]);</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">}</span>
  <span class="nx">_ref1</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">modelsArray</span><span class="p">;</span>
  <span class="nx">_results</span> <span class="o">=</span> <span class="p">[];</span>
  <span class="k">for</span> <span class="p">(</span><span class="nx">_i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">_len</span> <span class="o">=</span> <span class="nx">_ref1</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">_i</span> <span class="o">&lt;</span> <span class="nx">_len</span><span class="p">;</span> <span class="nx">_i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">model</span> <span class="o">=</span> <span class="nx">_ref1</span><span class="p">[</span><span class="nx">_i</span><span class="p">];</span>
    <span class="nx">_results</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">model</span><span class="p">.</span><span class="nx">setReferencedModels</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">models</span><span class="p">));</span>
  <span class="p">}</span>
  <span class="k">return</span> <span class="nx">_results</span><span class="p">;</span>
<span class="p">};</span>

<span class="nx">SwaggerApi</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">help</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">operation</span><span class="p">,</span> <span class="nx">operation_name</span><span class="p">,</span> <span class="nx">parameter</span><span class="p">,</span> <span class="nx">resource</span><span class="p">,</span> <span class="nx">resource_name</span><span class="p">,</span> <span class="nx">_i</span><span class="p">,</span> <span class="nx">_len</span><span class="p">,</span> <span class="nx">_ref</span><span class="p">,</span> <span class="nx">_ref1</span><span class="p">,</span> <span class="nx">_ref2</span><span class="p">;</span>
  <span class="nx">_ref</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">apis</span><span class="p">;</span>
  <span class="k">for</span> <span class="p">(</span><span class="nx">resource_name</span> <span class="k">in</span> <span class="nx">_ref</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">resource</span> <span class="o">=</span> <span class="nx">_ref</span><span class="p">[</span><span class="nx">resource_name</span><span class="p">];</span>
    <span class="nx">log</span><span class="p">(</span><span class="nx">resource_name</span><span class="p">);</span>
    <span class="nx">_ref1</span> <span class="o">=</span> <span class="nx">resource</span><span class="p">.</span><span class="nx">operations</span><span class="p">;</span>
    <span class="k">for</span> <span class="p">(</span><span class="nx">operation_name</span> <span class="k">in</span> <span class="nx">_ref1</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">operation</span> <span class="o">=</span> <span class="nx">_ref1</span><span class="p">[</span><span class="nx">operation_name</span><span class="p">];</span>
      <span class="nx">log</span><span class="p">(</span><span class="s2">&quot;  &quot;</span> <span class="o">+</span> <span class="nx">operation</span><span class="p">.</span><span class="nx">nickname</span><span class="p">);</span>
      <span class="nx">_ref2</span> <span class="o">=</span> <span class="nx">operation</span><span class="p">.</span><span class="nx">parameters</span><span class="p">;</span>
      <span class="k">for</span> <span class="p">(</span><span class="nx">_i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">_len</span> <span class="o">=</span> <span class="nx">_ref2</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">_i</span> <span class="o">&lt;</span> <span class="nx">_len</span><span class="p">;</span> <span class="nx">_i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">parameter</span> <span class="o">=</span> <span class="nx">_ref2</span><span class="p">[</span><span class="nx">_i</span><span class="p">];</span>
        <span class="nx">log</span><span class="p">(</span><span class="s2">&quot;    &quot;</span> <span class="o">+</span> <span class="nx">parameter</span><span class="p">.</span><span class="nx">name</span> <span class="o">+</span> <span class="p">(</span><span class="nx">parameter</span><span class="p">.</span><span class="nx">required</span> <span class="o">?</span> <span class="s1">&#39; (required)&#39;</span> <span class="o">:</span> <span class="s1">&#39;&#39;</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot; - &quot;</span> <span class="o">+</span> <span class="nx">parameter</span><span class="p">.</span><span class="nx">description</span><span class="p">);</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">}</span>
  <span class="k">return</span> <span class="k">this</span><span class="p">;</span>
<span class="p">};</span>

<span class="kd">var</span> <span class="nx">SwaggerResource</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">resourceObj</span><span class="p">,</span> <span class="nx">api</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">_this</span> <span class="o">=</span> <span class="k">this</span><span class="p">;</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">api</span> <span class="o">=</span> <span class="nx">api</span><span class="p">;</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">api</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">api</span><span class="p">;</span>
  <span class="nx">consumes</span> <span class="o">=</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">consumes</span> <span class="o">|</span> <span class="p">[]);</span>
  <span class="nx">produces</span> <span class="o">=</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">produces</span> <span class="o">|</span> <span class="p">[]);</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">path</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">api</span><span class="p">.</span><span class="nx">resourcePath</span> <span class="o">!=</span> <span class="kc">null</span> <span class="o">?</span> <span class="k">this</span><span class="p">.</span><span class="nx">api</span><span class="p">.</span><span class="nx">resourcePath</span> <span class="o">:</span> <span class="nx">resourceObj</span><span class="p">.</span><span class="nx">path</span><span class="p">;</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">description</span> <span class="o">=</span> <span class="nx">resourceObj</span><span class="p">.</span><span class="nx">description</span><span class="p">;</span>

  <span class="kd">var</span> <span class="nx">parts</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">path</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">);</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">name</span> <span class="o">=</span> <span class="nx">parts</span><span class="p">[</span><span class="nx">parts</span><span class="p">.</span><span class="nx">length</span> <span class="o">-</span> <span class="mi">1</span><span class="p">].</span><span class="nx">replace</span><span class="p">(</span><span class="s1">&#39;.{format}&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">);</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">basePath</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">api</span><span class="p">.</span><span class="nx">basePath</span><span class="p">;</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">operations</span> <span class="o">=</span> <span class="p">{};</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">operationsArray</span> <span class="o">=</span> <span class="p">[];</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">modelsArray</span> <span class="o">=</span> <span class="p">[];</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">models</span> <span class="o">=</span> <span class="p">{};</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">rawModels</span> <span class="o">=</span> <span class="p">{};</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">useJQuery</span> <span class="o">=</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">api</span><span class="p">.</span><span class="nx">useJQuery</span> <span class="o">!==</span> <span class="s1">&#39;undefined&#39;</span> <span class="o">?</span> <span class="nx">api</span><span class="p">.</span><span class="nx">useJQuery</span> <span class="o">:</span> <span class="kc">null</span><span class="p">);</span>

  <span class="k">if</span> <span class="p">((</span><span class="nx">resourceObj</span><span class="p">.</span><span class="nx">apis</span> <span class="o">!=</span> <span class="kc">null</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">api</span><span class="p">.</span><span class="nx">resourcePath</span> <span class="o">!=</span> <span class="kc">null</span><span class="p">))</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">addApiDeclaration</span><span class="p">(</span><span class="nx">resourceObj</span><span class="p">);</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">path</span> <span class="o">==</span> <span class="kc">null</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">api</span><span class="p">.</span><span class="nx">fail</span><span class="p">(</span><span class="s2">&quot;SwaggerResources must have a path.&quot;</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">path</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span> <span class="o">===</span> <span class="s1">&#39;http&#39;</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">url</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">path</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="s1">&#39;{format}&#39;</span><span class="p">,</span> <span class="s1">&#39;json&#39;</span><span class="p">);</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">url</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">api</span><span class="p">.</span><span class="nx">basePath</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">path</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="s1">&#39;{format}&#39;</span><span class="p">,</span> <span class="s1">&#39;json&#39;</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">api</span><span class="p">.</span><span class="nx">progress</span><span class="p">(</span><span class="s1">&#39;fetching resource &#39;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">name</span> <span class="o">+</span> <span class="s1">&#39;: &#39;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">url</span><span class="p">);</span>
    <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span>
      <span class="nx">url</span><span class="o">:</span> <span class="k">this</span><span class="p">.</span><span class="nx">url</span><span class="p">,</span>
      <span class="nx">method</span><span class="o">:</span> <span class="s2">&quot;get&quot;</span><span class="p">,</span>
      <span class="nx">useJQuery</span><span class="o">:</span> <span class="k">this</span><span class="p">.</span><span class="nx">useJQuery</span><span class="p">,</span>
      <span class="nx">headers</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">accept</span><span class="o">:</span> <span class="s2">&quot;application/json,application/json;charset=\&quot;utf-8\&quot;,*/*&quot;</span>
      <span class="p">},</span>
      <span class="nx">on</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">response</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">resp</span><span class="p">)</span> <span class="p">{</span>
          <span class="kd">var</span> <span class="nx">responseObj</span> <span class="o">=</span> <span class="nx">resp</span><span class="p">.</span><span class="nx">obj</span> <span class="o">||</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="nx">resp</span><span class="p">.</span><span class="nx">data</span><span class="p">);</span>
          <span class="k">return</span> <span class="nx">_this</span><span class="p">.</span><span class="nx">addApiDeclaration</span><span class="p">(</span><span class="nx">responseObj</span><span class="p">);</span>
        <span class="p">},</span>
        <span class="nx">error</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
          <span class="k">return</span> <span class="nx">_this</span><span class="p">.</span><span class="nx">api</span><span class="p">.</span><span class="nx">fail</span><span class="p">(</span><span class="s2">&quot;Unable to read api &#39;&quot;</span> <span class="o">+</span>
            <span class="nx">_this</span><span class="p">.</span><span class="nx">name</span> <span class="o">+</span> <span class="s2">&quot;&#39; from path &quot;</span> <span class="o">+</span> <span class="nx">_this</span><span class="p">.</span><span class="nx">url</span> <span class="o">+</span> <span class="s2">&quot; (server returned &quot;</span> <span class="o">+</span> <span class="nx">response</span><span class="p">.</span><span class="nx">statusText</span> <span class="o">+</span> <span class="s2">&quot;)&quot;</span><span class="p">);</span>
        <span class="p">}</span>
      <span class="p">}</span>
    <span class="p">};</span>
    <span class="kd">var</span> <span class="nx">e</span> <span class="o">=</span> <span class="k">typeof</span> <span class="nb">window</span> <span class="o">!==</span> <span class="s1">&#39;undefined&#39;</span> <span class="o">?</span> <span class="nb">window</span> <span class="o">:</span> <span class="nx">exports</span><span class="p">;</span>
    <span class="nx">e</span><span class="p">.</span><span class="nx">authorizations</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="nx">obj</span><span class="p">);</span>
    <span class="k">new</span> <span class="nx">SwaggerHttp</span><span class="p">().</span><span class="nx">execute</span><span class="p">(</span><span class="nx">obj</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="nx">SwaggerResource</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">getAbsoluteBasePath</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">relativeBasePath</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">pos</span><span class="p">,</span> <span class="nx">url</span><span class="p">;</span>
  <span class="nx">url</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">api</span><span class="p">.</span><span class="nx">basePath</span><span class="p">;</span>
  <span class="nx">pos</span> <span class="o">=</span> <span class="nx">url</span><span class="p">.</span><span class="nx">lastIndexOf</span><span class="p">(</span><span class="nx">relativeBasePath</span><span class="p">);</span>
  <span class="kd">var</span> <span class="nx">parts</span> <span class="o">=</span> <span class="nx">url</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">);</span>
  <span class="kd">var</span> <span class="nx">rootUrl</span> <span class="o">=</span> <span class="nx">parts</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="s2">&quot;//&quot;</span> <span class="o">+</span> <span class="nx">parts</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>

  <span class="k">if</span><span class="p">(</span><span class="nx">relativeBasePath</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="s2">&quot;http&quot;</span><span class="p">)</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span>
    <span class="k">return</span> <span class="nx">relativeBasePath</span><span class="p">;</span>
  <span class="k">if</span><span class="p">(</span><span class="nx">relativeBasePath</span> <span class="o">===</span> <span class="s2">&quot;/&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="nx">rootUrl</span><span class="p">;</span>
  <span class="k">if</span><span class="p">(</span><span class="nx">relativeBasePath</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">==</span> <span class="s2">&quot;/&quot;</span><span class="p">)</span> <span class="p">{</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-4" id="section-4">&#182;</a>
</div>
<p>use root + relative</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
    <span class="k">return</span> <span class="nx">rootUrl</span> <span class="o">+</span> <span class="nx">relativeBasePath</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="k">else</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">pos</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">basePath</span><span class="p">.</span><span class="nx">lastIndexOf</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">);</span>
    <span class="kd">var</span> <span class="nx">base</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">basePath</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nx">pos</span><span class="p">);</span>
    <span class="k">if</span><span class="p">(</span><span class="nx">base</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="nx">base</span><span class="p">.</span><span class="nx">length</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">==</span> <span class="s2">&quot;/&quot;</span><span class="p">)</span>
      <span class="k">return</span> <span class="nx">base</span> <span class="o">+</span> <span class="nx">relativeBasePath</span><span class="p">;</span>
    <span class="k">else</span>
      <span class="k">return</span> <span class="nx">base</span> <span class="o">+</span> <span class="s2">&quot;/&quot;</span> <span class="o">+</span> <span class="nx">relativeBasePath</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">};</span>

<span class="nx">SwaggerResource</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">addApiDeclaration</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">produces</span> <span class="o">!=</span> <span class="kc">null</span><span class="p">)</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">produces</span> <span class="o">=</span> <span class="nx">response</span><span class="p">.</span><span class="nx">produces</span><span class="p">;</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">consumes</span> <span class="o">!=</span> <span class="kc">null</span><span class="p">)</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">consumes</span> <span class="o">=</span> <span class="nx">response</span><span class="p">.</span><span class="nx">consumes</span><span class="p">;</span>
  <span class="k">if</span> <span class="p">((</span><span class="nx">response</span><span class="p">.</span><span class="nx">basePath</span> <span class="o">!=</span> <span class="kc">null</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="nx">response</span><span class="p">.</span><span class="nx">basePath</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/\s/g</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">).</span><span class="nx">length</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">basePath</span> <span class="o">=</span> <span class="nx">response</span><span class="p">.</span><span class="nx">basePath</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="s2">&quot;http&quot;</span><span class="p">)</span> <span class="o">===</span> <span class="o">-</span><span class="mi">1</span> <span class="o">?</span> <span class="k">this</span><span class="p">.</span><span class="nx">getAbsoluteBasePath</span><span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">basePath</span><span class="p">)</span> <span class="o">:</span> <span class="nx">response</span><span class="p">.</span><span class="nx">basePath</span><span class="p">;</span>

  <span class="k">this</span><span class="p">.</span><span class="nx">addModels</span><span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">models</span><span class="p">);</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">apis</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span> <span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">response</span><span class="p">.</span><span class="nx">apis</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
      <span class="kd">var</span> <span class="nx">endpoint</span> <span class="o">=</span> <span class="nx">response</span><span class="p">.</span><span class="nx">apis</span><span class="p">[</span><span class="nx">i</span><span class="p">];</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">addOperations</span><span class="p">(</span><span class="nx">endpoint</span><span class="p">.</span><span class="nx">path</span><span class="p">,</span> <span class="nx">endpoint</span><span class="p">.</span><span class="nx">operations</span><span class="p">,</span> <span class="nx">response</span><span class="p">.</span><span class="nx">consumes</span><span class="p">,</span> <span class="nx">response</span><span class="p">.</span><span class="nx">produces</span><span class="p">);</span>
    <span class="p">}</span>
  <span class="p">}</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">api</span><span class="p">[</span><span class="k">this</span><span class="p">.</span><span class="nx">name</span><span class="p">]</span> <span class="o">=</span> <span class="k">this</span><span class="p">;</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">ready</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
  <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">api</span><span class="p">.</span><span class="nx">selfReflect</span><span class="p">();</span>
<span class="p">};</span>

<span class="nx">SwaggerResource</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">addModels</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">models</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">models</span> <span class="o">!=</span> <span class="kc">null</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">modelName</span><span class="p">;</span>
    <span class="k">for</span> <span class="p">(</span><span class="nx">modelName</span> <span class="k">in</span> <span class="nx">models</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">models</span><span class="p">[</span><span class="nx">modelName</span><span class="p">]</span> <span class="o">==</span> <span class="kc">null</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">swaggerModel</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">SwaggerModel</span><span class="p">(</span><span class="nx">modelName</span><span class="p">,</span> <span class="nx">models</span><span class="p">[</span><span class="nx">modelName</span><span class="p">]);</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">modelsArray</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">swaggerModel</span><span class="p">);</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">models</span><span class="p">[</span><span class="nx">modelName</span><span class="p">]</span> <span class="o">=</span> <span class="nx">swaggerModel</span><span class="p">;</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">rawModels</span><span class="p">[</span><span class="nx">modelName</span><span class="p">]</span> <span class="o">=</span> <span class="nx">models</span><span class="p">[</span><span class="nx">modelName</span><span class="p">];</span>
      <span class="p">}</span>
    <span class="p">}</span>
    <span class="kd">var</span> <span class="nx">output</span> <span class="o">=</span> <span class="p">[];</span>
    <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="k">this</span><span class="p">.</span><span class="nx">modelsArray</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">model</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">modelsArray</span><span class="p">[</span><span class="nx">i</span><span class="p">];</span>
      <span class="nx">output</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">model</span><span class="p">.</span><span class="nx">setReferencedModels</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">models</span><span class="p">));</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="nx">output</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">};</span>

<span class="nx">SwaggerResource</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">addOperations</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">resource_path</span><span class="p">,</span> <span class="nx">ops</span><span class="p">,</span> <span class="nx">consumes</span><span class="p">,</span> <span class="nx">produces</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">ops</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">output</span> <span class="o">=</span> <span class="p">[];</span>
    <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">ops</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">o</span> <span class="o">=</span> <span class="nx">ops</span><span class="p">[</span><span class="nx">i</span><span class="p">];</span>
      <span class="nx">consumes</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">consumes</span><span class="p">;</span>
      <span class="nx">produces</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">produces</span><span class="p">;</span>
      <span class="k">if</span> <span class="p">(</span><span class="nx">o</span><span class="p">.</span><span class="nx">consumes</span> <span class="o">!=</span> <span class="kc">null</span><span class="p">)</span>
        <span class="nx">consumes</span> <span class="o">=</span> <span class="nx">o</span><span class="p">.</span><span class="nx">consumes</span><span class="p">;</span>
      <span class="k">else</span>
        <span class="nx">consumes</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">consumes</span><span class="p">;</span>

      <span class="k">if</span> <span class="p">(</span><span class="nx">o</span><span class="p">.</span><span class="nx">produces</span> <span class="o">!=</span> <span class="kc">null</span><span class="p">)</span>
        <span class="nx">produces</span> <span class="o">=</span> <span class="nx">o</span><span class="p">.</span><span class="nx">produces</span><span class="p">;</span>
      <span class="k">else</span>
        <span class="nx">produces</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">produces</span><span class="p">;</span>
      <span class="nx">type</span> <span class="o">=</span> <span class="p">(</span><span class="nx">o</span><span class="p">.</span><span class="nx">type</span><span class="o">||</span><span class="nx">o</span><span class="p">.</span><span class="nx">responseClass</span><span class="p">);</span>

      <span class="k">if</span> <span class="p">(</span><span class="nx">type</span> <span class="o">===</span> <span class="s2">&quot;array&quot;</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">ref</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">o</span><span class="p">.</span><span class="nx">items</span><span class="p">)</span>
          <span class="nx">ref</span> <span class="o">=</span> <span class="nx">o</span><span class="p">.</span><span class="nx">items</span><span class="p">[</span><span class="s2">&quot;type&quot;</span><span class="p">]</span> <span class="o">||</span> <span class="nx">o</span><span class="p">.</span><span class="nx">items</span><span class="p">[</span><span class="s2">&quot;$ref&quot;</span><span class="p">];</span>
        <span class="nx">type</span> <span class="o">=</span> <span class="s2">&quot;array[&quot;</span> <span class="o">+</span> <span class="nx">ref</span> <span class="o">+</span> <span class="s2">&quot;]&quot;</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="nx">responseMessages</span> <span class="o">=</span> <span class="nx">o</span><span class="p">.</span><span class="nx">responseMessages</span><span class="p">;</span>
      <span class="nx">method</span> <span class="o">=</span> <span class="nx">o</span><span class="p">.</span><span class="nx">method</span><span class="p">;</span>
      <span class="k">if</span> <span class="p">(</span><span class="nx">o</span><span class="p">.</span><span class="nx">httpMethod</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">method</span> <span class="o">=</span> <span class="nx">o</span><span class="p">.</span><span class="nx">httpMethod</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">if</span> <span class="p">(</span><span class="nx">o</span><span class="p">.</span><span class="nx">supportedContentTypes</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">consumes</span> <span class="o">=</span> <span class="nx">o</span><span class="p">.</span><span class="nx">supportedContentTypes</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">if</span> <span class="p">(</span><span class="nx">o</span><span class="p">.</span><span class="nx">errorResponses</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">responseMessages</span> <span class="o">=</span> <span class="nx">o</span><span class="p">.</span><span class="nx">errorResponses</span><span class="p">;</span>
        <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">j</span> <span class="o">&lt;</span> <span class="nx">responseMessages</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">j</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
          <span class="nx">r</span> <span class="o">=</span> <span class="nx">responseMessages</span><span class="p">[</span><span class="nx">j</span><span class="p">];</span>
          <span class="nx">r</span><span class="p">.</span><span class="nx">message</span> <span class="o">=</span> <span class="nx">r</span><span class="p">.</span><span class="nx">reason</span><span class="p">;</span>
          <span class="nx">r</span><span class="p">.</span><span class="nx">reason</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
        <span class="p">}</span>
      <span class="p">}</span>
      <span class="nx">o</span><span class="p">.</span><span class="nx">nickname</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">sanitize</span><span class="p">(</span><span class="nx">o</span><span class="p">.</span><span class="nx">nickname</span><span class="p">);</span>
      <span class="nx">op</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">SwaggerOperation</span><span class="p">(</span><span class="nx">o</span><span class="p">.</span><span class="nx">nickname</span><span class="p">,</span> <span class="nx">resource_path</span><span class="p">,</span> <span class="nx">method</span><span class="p">,</span> <span class="nx">o</span><span class="p">.</span><span class="nx">parameters</span><span class="p">,</span> <span class="nx">o</span><span class="p">.</span><span class="nx">summary</span><span class="p">,</span> <span class="nx">o</span><span class="p">.</span><span class="nx">notes</span><span class="p">,</span> <span class="nx">type</span><span class="p">,</span> <span class="nx">responseMessages</span><span class="p">,</span> <span class="k">this</span><span class="p">,</span> <span class="nx">consumes</span><span class="p">,</span> <span class="nx">produces</span><span class="p">,</span> <span class="nx">o</span><span class="p">.</span><span class="nx">authorizations</span><span class="p">);</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">operations</span><span class="p">[</span><span class="nx">op</span><span class="p">.</span><span class="nx">nickname</span><span class="p">]</span> <span class="o">=</span> <span class="nx">op</span><span class="p">;</span>
      <span class="nx">output</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">operationsArray</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">op</span><span class="p">));</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="nx">output</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">};</span>

<span class="nx">SwaggerResource</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">sanitize</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">nickname</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">op</span><span class="p">;</span>
  <span class="nx">op</span> <span class="o">=</span> <span class="nx">nickname</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/[\s!@#$%^&amp;*()_+=\[{\]};:&lt;&gt;|.\/?,\\&#39;&quot;&quot;-]/g</span><span class="p">,</span> <span class="s1">&#39;_&#39;</span><span class="p">);</span>
  <span class="nx">op</span> <span class="o">=</span> <span class="nx">op</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/((_){2,})/g</span><span class="p">,</span> <span class="s1">&#39;_&#39;</span><span class="p">);</span>
  <span class="nx">op</span> <span class="o">=</span> <span class="nx">op</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/^(_)*/g</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">);</span>
  <span class="nx">op</span> <span class="o">=</span> <span class="nx">op</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/([_])*$/g</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">);</span>
  <span class="k">return</span> <span class="nx">op</span><span class="p">;</span>
<span class="p">};</span>

<span class="nx">SwaggerResource</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">help</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">op</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">operations</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">output</span> <span class="o">=</span> <span class="p">[];</span>
  <span class="kd">var</span> <span class="nx">operation_name</span><span class="p">;</span>
  <span class="k">for</span> <span class="p">(</span><span class="nx">operation_name</span> <span class="k">in</span> <span class="nx">op</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">operation</span> <span class="o">=</span> <span class="nx">op</span><span class="p">[</span><span class="nx">operation_name</span><span class="p">];</span>
    <span class="kd">var</span> <span class="nx">msg</span> <span class="o">=</span> <span class="s2">&quot;  &quot;</span> <span class="o">+</span> <span class="nx">operation</span><span class="p">.</span><span class="nx">nickname</span><span class="p">;</span>
    <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">operation</span><span class="p">.</span><span class="nx">parameters</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">parameter</span> <span class="o">=</span> <span class="nx">operation</span><span class="p">.</span><span class="nx">parameters</span><span class="p">[</span><span class="nx">i</span><span class="p">];</span>
      <span class="nx">msg</span><span class="p">.</span><span class="nx">concat</span><span class="p">(</span><span class="s2">&quot;    &quot;</span> <span class="o">+</span> <span class="nx">parameter</span><span class="p">.</span><span class="nx">name</span> <span class="o">+</span> <span class="p">(</span><span class="nx">parameter</span><span class="p">.</span><span class="nx">required</span> <span class="o">?</span> <span class="s1">&#39; (required)&#39;</span> <span class="o">:</span> <span class="s1">&#39;&#39;</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot; - &quot;</span> <span class="o">+</span> <span class="nx">parameter</span><span class="p">.</span><span class="nx">description</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="nx">output</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">msg</span><span class="p">);</span>
  <span class="p">}</span>
  <span class="k">return</span> <span class="nx">output</span><span class="p">;</span>
<span class="p">};</span>

<span class="kd">var</span> <span class="nx">SwaggerModel</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">modelName</span><span class="p">,</span> <span class="nx">obj</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">name</span> <span class="o">=</span> <span class="nx">obj</span><span class="p">.</span><span class="nx">id</span> <span class="o">!=</span> <span class="kc">null</span> <span class="o">?</span> <span class="nx">obj</span><span class="p">.</span><span class="nx">id</span> <span class="o">:</span> <span class="nx">modelName</span><span class="p">;</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">properties</span> <span class="o">=</span> <span class="p">[];</span>
  <span class="kd">var</span> <span class="nx">propertyName</span><span class="p">;</span>
  <span class="k">for</span> <span class="p">(</span><span class="nx">propertyName</span> <span class="k">in</span> <span class="nx">obj</span><span class="p">.</span><span class="nx">properties</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">obj</span><span class="p">.</span><span class="nx">required</span> <span class="o">!=</span> <span class="kc">null</span><span class="p">)</span> <span class="p">{</span>
      <span class="kd">var</span> <span class="nx">value</span><span class="p">;</span>
      <span class="k">for</span> <span class="p">(</span><span class="nx">value</span> <span class="k">in</span> <span class="nx">obj</span><span class="p">.</span><span class="nx">required</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">propertyName</span> <span class="o">===</span> <span class="nx">obj</span><span class="p">.</span><span class="nx">required</span><span class="p">[</span><span class="nx">value</span><span class="p">])</span> <span class="p">{</span>
          <span class="nx">obj</span><span class="p">.</span><span class="nx">properties</span><span class="p">[</span><span class="nx">propertyName</span><span class="p">].</span><span class="nx">required</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
        <span class="p">}</span>
      <span class="p">}</span>
    <span class="p">}</span>
    <span class="nx">prop</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">SwaggerModelProperty</span><span class="p">(</span><span class="nx">propertyName</span><span class="p">,</span> <span class="nx">obj</span><span class="p">.</span><span class="nx">properties</span><span class="p">[</span><span class="nx">propertyName</span><span class="p">]);</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">properties</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">prop</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="nx">SwaggerModel</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">setReferencedModels</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">allModels</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">results</span> <span class="o">=</span> <span class="p">[];</span>
  <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="k">this</span><span class="p">.</span><span class="nx">properties</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">property</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">properties</span><span class="p">[</span><span class="nx">i</span><span class="p">];</span>
    <span class="kd">var</span> <span class="nx">type</span> <span class="o">=</span> <span class="nx">property</span><span class="p">.</span><span class="nx">type</span> <span class="o">||</span> <span class="nx">property</span><span class="p">.</span><span class="nx">dataType</span><span class="p">;</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">allModels</span><span class="p">[</span><span class="nx">type</span><span class="p">]</span> <span class="o">!=</span> <span class="kc">null</span><span class="p">)</span>
      <span class="nx">results</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">property</span><span class="p">.</span><span class="nx">refModel</span> <span class="o">=</span> <span class="nx">allModels</span><span class="p">[</span><span class="nx">type</span><span class="p">]);</span>
    <span class="k">else</span> <span class="k">if</span> <span class="p">((</span><span class="nx">property</span><span class="p">.</span><span class="nx">refDataType</span> <span class="o">!=</span> <span class="kc">null</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="nx">allModels</span><span class="p">[</span><span class="nx">property</span><span class="p">.</span><span class="nx">refDataType</span><span class="p">]</span> <span class="o">!=</span> <span class="kc">null</span><span class="p">))</span>
      <span class="nx">results</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">property</span><span class="p">.</span><span class="nx">refModel</span> <span class="o">=</span> <span class="nx">allModels</span><span class="p">[</span><span class="nx">property</span><span class="p">.</span><span class="nx">refDataType</span><span class="p">]);</span>
    <span class="k">else</span>
      <span class="nx">results</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="k">void</span> <span class="mi">0</span><span class="p">);</span>
  <span class="p">}</span>
  <span class="k">return</span> <span class="nx">results</span><span class="p">;</span>
<span class="p">};</span>

<span class="nx">SwaggerModel</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">getMockSignature</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">modelsToIgnore</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">propertiesStr</span> <span class="o">=</span> <span class="p">[];</span>
  <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="k">this</span><span class="p">.</span><span class="nx">properties</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">prop</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">properties</span><span class="p">[</span><span class="nx">i</span><span class="p">];</span>
    <span class="nx">propertiesStr</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">prop</span><span class="p">.</span><span class="nx">toString</span><span class="p">());</span>
  <span class="p">}</span>

  <span class="kd">var</span> <span class="nx">strong</span> <span class="o">=</span> <span class="s1">&#39;&lt;span class=&quot;strong&quot;&gt;&#39;</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">stronger</span> <span class="o">=</span> <span class="s1">&#39;&lt;span class=&quot;stronger&quot;&gt;&#39;</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">strongClose</span> <span class="o">=</span> <span class="s1">&#39;&lt;/span&gt;&#39;</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">classOpen</span> <span class="o">=</span> <span class="nx">strong</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">name</span> <span class="o">+</span> <span class="s1">&#39; {&#39;</span> <span class="o">+</span> <span class="nx">strongClose</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">classClose</span> <span class="o">=</span> <span class="nx">strong</span> <span class="o">+</span> <span class="s1">&#39;}&#39;</span> <span class="o">+</span> <span class="nx">strongClose</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">returnVal</span> <span class="o">=</span> <span class="nx">classOpen</span> <span class="o">+</span> <span class="s1">&#39;&lt;div&gt;&#39;</span> <span class="o">+</span> <span class="nx">propertiesStr</span><span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="s1">&#39;,&lt;/div&gt;&lt;div&gt;&#39;</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;&lt;/div&gt;&#39;</span> <span class="o">+</span> <span class="nx">classClose</span><span class="p">;</span>
  <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">modelsToIgnore</span><span class="p">)</span>
    <span class="nx">modelsToIgnore</span> <span class="o">=</span> <span class="p">[];</span>
  <span class="nx">modelsToIgnore</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">name</span><span class="p">);</span>

  <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="k">this</span><span class="p">.</span><span class="nx">properties</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">prop</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">properties</span><span class="p">[</span><span class="nx">i</span><span class="p">];</span>
    <span class="k">if</span> <span class="p">((</span><span class="nx">prop</span><span class="p">.</span><span class="nx">refModel</span> <span class="o">!=</span> <span class="kc">null</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="nx">modelsToIgnore</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="nx">prop</span><span class="p">.</span><span class="nx">refModel</span><span class="p">.</span><span class="nx">name</span><span class="p">)</span> <span class="o">===</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">returnVal</span> <span class="o">=</span> <span class="nx">returnVal</span> <span class="o">+</span> <span class="p">(</span><span class="s1">&#39;&lt;br&gt;&#39;</span> <span class="o">+</span> <span class="nx">prop</span><span class="p">.</span><span class="nx">refModel</span><span class="p">.</span><span class="nx">getMockSignature</span><span class="p">(</span><span class="nx">modelsToIgnore</span><span class="p">));</span>
    <span class="p">}</span>
  <span class="p">}</span>
  <span class="k">return</span> <span class="nx">returnVal</span><span class="p">;</span>
<span class="p">};</span>

<span class="nx">SwaggerModel</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">createJSONSample</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">modelsToIgnore</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span><span class="p">(</span><span class="nx">sampleModels</span><span class="p">[</span><span class="k">this</span><span class="p">.</span><span class="nx">name</span><span class="p">])</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">sampleModels</span><span class="p">[</span><span class="k">this</span><span class="p">.</span><span class="nx">name</span><span class="p">];</span>
  <span class="p">}</span>
  <span class="k">else</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">result</span> <span class="o">=</span> <span class="p">{};</span>
    <span class="kd">var</span> <span class="nx">modelsToIgnore</span> <span class="o">=</span> <span class="p">(</span><span class="nx">modelsToIgnore</span><span class="o">||</span><span class="p">[])</span>
    <span class="nx">modelsToIgnore</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">name</span><span class="p">);</span>
    <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="k">this</span><span class="p">.</span><span class="nx">properties</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">prop</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">properties</span><span class="p">[</span><span class="nx">i</span><span class="p">];</span>
      <span class="nx">result</span><span class="p">[</span><span class="nx">prop</span><span class="p">.</span><span class="nx">name</span><span class="p">]</span> <span class="o">=</span> <span class="nx">prop</span><span class="p">.</span><span class="nx">getSampleValue</span><span class="p">(</span><span class="nx">modelsToIgnore</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="nx">modelsToIgnore</span><span class="p">.</span><span class="nx">pop</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">name</span><span class="p">);</span>
    <span class="k">return</span> <span class="nx">result</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">};</span>

<span class="kd">var</span> <span class="nx">SwaggerModelProperty</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">name</span><span class="p">,</span> <span class="nx">obj</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">name</span> <span class="o">=</span> <span class="nx">name</span><span class="p">;</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">dataType</span> <span class="o">=</span> <span class="nx">obj</span><span class="p">.</span><span class="nx">type</span> <span class="o">||</span> <span class="nx">obj</span><span class="p">.</span><span class="nx">dataType</span> <span class="o">||</span> <span class="nx">obj</span><span class="p">[</span><span class="s2">&quot;$ref&quot;</span><span class="p">];</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">isCollection</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">dataType</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">dataType</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">()</span> <span class="o">===</span> <span class="s1">&#39;array&#39;</span> <span class="o">||</span> <span class="k">this</span><span class="p">.</span><span class="nx">dataType</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">()</span> <span class="o">===</span> <span class="s1">&#39;list&#39;</span> <span class="o">||</span> <span class="k">this</span><span class="p">.</span><span class="nx">dataType</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">()</span> <span class="o">===</span> <span class="s1">&#39;set&#39;</span><span class="p">);</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">descr</span> <span class="o">=</span> <span class="nx">obj</span><span class="p">.</span><span class="nx">description</span><span class="p">;</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">required</span> <span class="o">=</span> <span class="nx">obj</span><span class="p">.</span><span class="nx">required</span><span class="p">;</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">defaultValue</span> <span class="o">=</span> <span class="nx">modelPropertyMacro</span><span class="p">(</span><span class="nx">obj</span><span class="p">.</span><span class="nx">defaultValue</span><span class="p">);</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">obj</span><span class="p">.</span><span class="nx">items</span> <span class="o">!=</span> <span class="kc">null</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">obj</span><span class="p">.</span><span class="nx">items</span><span class="p">.</span><span class="nx">type</span> <span class="o">!=</span> <span class="kc">null</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">refDataType</span> <span class="o">=</span> <span class="nx">obj</span><span class="p">.</span><span class="nx">items</span><span class="p">.</span><span class="nx">type</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">obj</span><span class="p">.</span><span class="nx">items</span><span class="p">.</span><span class="nx">$ref</span> <span class="o">!=</span> <span class="kc">null</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">refDataType</span> <span class="o">=</span> <span class="nx">obj</span><span class="p">.</span><span class="nx">items</span><span class="p">.</span><span class="nx">$ref</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="p">}</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">dataTypeWithRef</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">refDataType</span> <span class="o">!=</span> <span class="kc">null</span> <span class="o">?</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">dataType</span> <span class="o">+</span> <span class="s1">&#39;[&#39;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">refDataType</span> <span class="o">+</span> <span class="s1">&#39;]&#39;</span><span class="p">)</span> <span class="o">:</span> <span class="k">this</span><span class="p">.</span><span class="nx">dataType</span><span class="p">;</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">obj</span><span class="p">.</span><span class="nx">allowableValues</span> <span class="o">!=</span> <span class="kc">null</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">valueType</span> <span class="o">=</span> <span class="nx">obj</span><span class="p">.</span><span class="nx">allowableValues</span><span class="p">.</span><span class="nx">valueType</span><span class="p">;</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">values</span> <span class="o">=</span> <span class="nx">obj</span><span class="p">.</span><span class="nx">allowableValues</span><span class="p">.</span><span class="nx">values</span><span class="p">;</span>
    <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">values</span> <span class="o">!=</span> <span class="kc">null</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">valuesString</span> <span class="o">=</span> <span class="s2">&quot;&#39;&quot;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">values</span><span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="s2">&quot;&#39; or &#39;&quot;</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;&#39;&quot;</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="p">}</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">obj</span><span class="p">[</span><span class="s2">&quot;enum&quot;</span><span class="p">]</span> <span class="o">!=</span> <span class="kc">null</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">valueType</span> <span class="o">=</span> <span class="s2">&quot;string&quot;</span><span class="p">;</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">values</span> <span class="o">=</span> <span class="nx">obj</span><span class="p">[</span><span class="s2">&quot;enum&quot;</span><span class="p">];</span>
    <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">values</span> <span class="o">!=</span> <span class="kc">null</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">valueString</span> <span class="o">=</span> <span class="s2">&quot;&#39;&quot;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">values</span><span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="s2">&quot;&#39; or &#39;&quot;</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;&#39;&quot;</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="nx">SwaggerModelProperty</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">getSampleValue</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">modelsToIgnore</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">result</span><span class="p">;</span>
  <span class="k">if</span> <span class="p">((</span><span class="k">this</span><span class="p">.</span><span class="nx">refModel</span> <span class="o">!=</span> <span class="kc">null</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="nx">modelsToIgnore</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="nx">prop</span><span class="p">.</span><span class="nx">refModel</span><span class="p">.</span><span class="nx">name</span><span class="p">)</span> <span class="o">===</span> <span class="o">-</span><span class="mi">1</span><span class="p">))</span> <span class="p">{</span>
    <span class="nx">result</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">refModel</span><span class="p">.</span><span class="nx">createJSONSample</span><span class="p">(</span><span class="nx">modelsToIgnore</span><span class="p">);</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">isCollection</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">result</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">toSampleValue</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">refDataType</span><span class="p">);</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
      <span class="nx">result</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">toSampleValue</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">dataType</span><span class="p">);</span>
    <span class="p">}</span>
  <span class="p">}</span>
  <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">isCollection</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">[</span><span class="nx">result</span><span class="p">];</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">result</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">};</span>

<span class="nx">SwaggerModelProperty</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">toSampleValue</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">result</span><span class="p">;</span>
  <span class="k">if</span> <span class="p">((</span><span class="k">typeof</span> <span class="k">this</span><span class="p">.</span><span class="nx">defaultValue</span> <span class="o">!==</span> <span class="s1">&#39;undefined&#39;</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">defaultValue</span> <span class="o">!==</span> <span class="kc">null</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">result</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">defaultValue</span><span class="p">;</span>
  <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">value</span> <span class="o">===</span> <span class="s2">&quot;integer&quot;</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">result</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
  <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">value</span> <span class="o">===</span> <span class="s2">&quot;boolean&quot;</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">result</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
  <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">value</span> <span class="o">===</span> <span class="s2">&quot;double&quot;</span> <span class="o">||</span> <span class="nx">value</span> <span class="o">===</span> <span class="s2">&quot;number&quot;</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">result</span> <span class="o">=</span> <span class="mf">0.0</span><span class="p">;</span>
  <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">value</span> <span class="o">===</span> <span class="s2">&quot;string&quot;</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">result</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">;</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="nx">result</span> <span class="o">=</span> <span class="nx">value</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="k">return</span> <span class="nx">result</span><span class="p">;</span>
<span class="p">};</span>

<span class="nx">SwaggerModelProperty</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">toString</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">req</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">required</span> <span class="o">?</span> <span class="s1">&#39;propReq&#39;</span> <span class="o">:</span> <span class="s1">&#39;propOpt&#39;</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">str</span> <span class="o">=</span> <span class="s1">&#39;&lt;span class=&quot;propName &#39;</span> <span class="o">+</span> <span class="nx">req</span> <span class="o">+</span> <span class="s1">&#39;&quot;&gt;&#39;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">name</span> <span class="o">+</span> <span class="s1">&#39;&lt;/span&gt; (&lt;span class=&quot;propType&quot;&gt;&#39;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">dataTypeWithRef</span> <span class="o">+</span> <span class="s1">&#39;&lt;/span&gt;&#39;</span><span class="p">;</span>
  <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="k">this</span><span class="p">.</span><span class="nx">required</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">str</span> <span class="o">+=</span> <span class="s1">&#39;, &lt;span class=&quot;propOptKey&quot;&gt;optional&lt;/span&gt;&#39;</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="nx">str</span> <span class="o">+=</span> <span class="s1">&#39;)&#39;</span><span class="p">;</span>
  <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">values</span> <span class="o">!=</span> <span class="kc">null</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">str</span> <span class="o">+=</span> <span class="s2">&quot; = &lt;span class=&#39;propVals&#39;&gt;[&#39;&quot;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">values</span><span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="s2">&quot;&#39; or &#39;&quot;</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;&#39;]&lt;/span&gt;&quot;</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">descr</span> <span class="o">!=</span> <span class="kc">null</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">str</span> <span class="o">+=</span> <span class="s1">&#39;: &lt;span class=&quot;propDesc&quot;&gt;&#39;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">descr</span> <span class="o">+</span> <span class="s1">&#39;&lt;/span&gt;&#39;</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="k">return</span> <span class="nx">str</span><span class="p">;</span>
<span class="p">};</span>

<span class="kd">var</span> <span class="nx">SwaggerOperation</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">nickname</span><span class="p">,</span> <span class="nx">path</span><span class="p">,</span> <span class="nx">method</span><span class="p">,</span> <span class="nx">parameters</span><span class="p">,</span> <span class="nx">summary</span><span class="p">,</span> <span class="nx">notes</span><span class="p">,</span> <span class="nx">type</span><span class="p">,</span> <span class="nx">responseMessages</span><span class="p">,</span> <span class="nx">resource</span><span class="p">,</span> <span class="nx">consumes</span><span class="p">,</span> <span class="nx">produces</span><span class="p">,</span> <span class="nx">authorizations</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">_this</span> <span class="o">=</span> <span class="k">this</span><span class="p">;</span>

  <span class="kd">var</span> <span class="nx">errors</span> <span class="o">=</span> <span class="p">[];</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">nickname</span> <span class="o">=</span> <span class="p">(</span><span class="nx">nickname</span><span class="o">||</span><span class="nx">errors</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="s2">&quot;SwaggerOperations must have a nickname.&quot;</span><span class="p">));</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">path</span> <span class="o">=</span> <span class="p">(</span><span class="nx">path</span><span class="o">||</span><span class="nx">errors</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="s2">&quot;SwaggerOperation &quot;</span> <span class="o">+</span> <span class="nx">nickname</span> <span class="o">+</span> <span class="s2">&quot; is missing path.&quot;</span><span class="p">));</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">method</span> <span class="o">=</span> <span class="p">(</span><span class="nx">method</span><span class="o">||</span><span class="nx">errors</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="s2">&quot;SwaggerOperation &quot;</span> <span class="o">+</span> <span class="nx">nickname</span> <span class="o">+</span> <span class="s2">&quot; is missing method.&quot;</span><span class="p">));</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">parameters</span> <span class="o">=</span> <span class="nx">parameters</span> <span class="o">!=</span> <span class="kc">null</span> <span class="o">?</span> <span class="nx">parameters</span> <span class="o">:</span> <span class="p">[];</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">summary</span> <span class="o">=</span> <span class="nx">summary</span><span class="p">;</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">notes</span> <span class="o">=</span> <span class="nx">notes</span><span class="p">;</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">type</span> <span class="o">=</span> <span class="nx">type</span><span class="p">;</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">responseMessages</span> <span class="o">=</span> <span class="p">(</span><span class="nx">responseMessages</span><span class="o">||</span><span class="p">[]);</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">resource</span> <span class="o">=</span> <span class="p">(</span><span class="nx">resource</span><span class="o">||</span><span class="nx">errors</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="s2">&quot;Resource is required&quot;</span><span class="p">));</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">consumes</span> <span class="o">=</span> <span class="nx">consumes</span><span class="p">;</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">produces</span> <span class="o">=</span> <span class="nx">produces</span><span class="p">;</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">authorizations</span> <span class="o">=</span> <span class="nx">authorizations</span><span class="p">;</span>
  <span class="k">this</span><span class="p">[</span><span class="s2">&quot;do&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="nx">__bind</span><span class="p">(</span><span class="k">this</span><span class="p">[</span><span class="s2">&quot;do&quot;</span><span class="p">],</span> <span class="k">this</span><span class="p">);</span>

  <span class="k">if</span> <span class="p">(</span><span class="nx">errors</span><span class="p">.</span><span class="nx">length</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">resource</span><span class="p">.</span><span class="nx">api</span><span class="p">.</span><span class="nx">fail</span><span class="p">(</span><span class="nx">errors</span><span class="p">);</span>

  <span class="k">this</span><span class="p">.</span><span class="nx">path</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">path</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="s1">&#39;{format}&#39;</span><span class="p">,</span> <span class="s1">&#39;json&#39;</span><span class="p">);</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">method</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">method</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">();</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">isGetMethod</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">method</span> <span class="o">===</span> <span class="s2">&quot;get&quot;</span><span class="p">;</span>

  <span class="k">this</span><span class="p">.</span><span class="nx">resourceName</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">resource</span><span class="p">.</span><span class="nx">name</span><span class="p">;</span>
  <span class="k">if</span><span class="p">(</span><span class="k">typeof</span> <span class="k">this</span><span class="p">.</span><span class="nx">type</span> <span class="o">!==</span> <span class="s1">&#39;undefined&#39;</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">type</span> <span class="o">===</span> <span class="s1">&#39;void&#39;</span><span class="p">)</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">type</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
  <span class="k">else</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">responseClassSignature</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">getSignature</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">type</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">resource</span><span class="p">.</span><span class="nx">models</span><span class="p">);</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">responseSampleJSON</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">getSampleJSON</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">type</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">resource</span><span class="p">.</span><span class="nx">models</span><span class="p">);</span>
  <span class="p">}</span>

  <span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="k">this</span><span class="p">.</span><span class="nx">parameters</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span> <span class="o">++</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">param</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">parameters</span><span class="p">[</span><span class="nx">i</span><span class="p">];</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-5" id="section-5">&#182;</a>
</div>
<p>might take this away</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
    <span class="nx">param</span><span class="p">.</span><span class="nx">name</span> <span class="o">=</span> <span class="nx">param</span><span class="p">.</span><span class="nx">name</span> <span class="o">||</span> <span class="nx">param</span><span class="p">.</span><span class="nx">type</span> <span class="o">||</span> <span class="nx">param</span><span class="p">.</span><span class="nx">dataType</span><span class="p">;</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-6" id="section-6">&#182;</a>
</div>
<p>for 1.1 compatibility</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
    <span class="kd">var</span> <span class="nx">type</span> <span class="o">=</span> <span class="nx">param</span><span class="p">.</span><span class="nx">type</span> <span class="o">||</span> <span class="nx">param</span><span class="p">.</span><span class="nx">dataType</span><span class="p">;</span>
    <span class="k">if</span><span class="p">(</span><span class="nx">type</span> <span class="o">===</span> <span class="s1">&#39;array&#39;</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">type</span> <span class="o">=</span> <span class="s1">&#39;array[&#39;</span> <span class="o">+</span> <span class="p">(</span><span class="nx">param</span><span class="p">.</span><span class="nx">items</span><span class="p">.</span><span class="nx">$ref</span> <span class="o">?</span> <span class="nx">param</span><span class="p">.</span><span class="nx">items</span><span class="p">.</span><span class="nx">$ref</span> <span class="o">:</span> <span class="nx">param</span><span class="p">.</span><span class="nx">items</span><span class="p">.</span><span class="nx">type</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;]&#39;</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="nx">param</span><span class="p">.</span><span class="nx">type</span> <span class="o">=</span> <span class="nx">type</span><span class="p">;</span>

    <span class="k">if</span><span class="p">(</span><span class="nx">type</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">()</span> <span class="o">===</span> <span class="s1">&#39;boolean&#39;</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">param</span><span class="p">.</span><span class="nx">allowableValues</span> <span class="o">=</span> <span class="p">{};</span>
      <span class="nx">param</span><span class="p">.</span><span class="nx">allowableValues</span><span class="p">.</span><span class="nx">values</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;true&quot;</span><span class="p">,</span> <span class="s2">&quot;false&quot;</span><span class="p">];</span>
    <span class="p">}</span>
    <span class="nx">param</span><span class="p">.</span><span class="nx">signature</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">getSignature</span><span class="p">(</span><span class="nx">type</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">resource</span><span class="p">.</span><span class="nx">models</span><span class="p">);</span>
    <span class="nx">param</span><span class="p">.</span><span class="nx">sampleJSON</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">getSampleJSON</span><span class="p">(</span><span class="nx">type</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">resource</span><span class="p">.</span><span class="nx">models</span><span class="p">);</span>

    <span class="kd">var</span> <span class="nx">enumValue</span> <span class="o">=</span> <span class="nx">param</span><span class="p">[</span><span class="s2">&quot;enum&quot;</span><span class="p">];</span>
    <span class="k">if</span><span class="p">(</span><span class="nx">enumValue</span> <span class="o">!=</span> <span class="kc">null</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">param</span><span class="p">.</span><span class="nx">isList</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
      <span class="nx">param</span><span class="p">.</span><span class="nx">allowableValues</span> <span class="o">=</span> <span class="p">{};</span>
      <span class="nx">param</span><span class="p">.</span><span class="nx">allowableValues</span><span class="p">.</span><span class="nx">descriptiveValues</span> <span class="o">=</span> <span class="p">[];</span>

      <span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">j</span> <span class="o">&lt;</span> <span class="nx">enumValue</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">j</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">v</span> <span class="o">=</span> <span class="nx">enumValue</span><span class="p">[</span><span class="nx">j</span><span class="p">];</span>
        <span class="k">if</span><span class="p">(</span><span class="nx">param</span><span class="p">.</span><span class="nx">defaultValue</span> <span class="o">!=</span> <span class="kc">null</span><span class="p">)</span> <span class="p">{</span>
          <span class="nx">param</span><span class="p">.</span><span class="nx">allowableValues</span><span class="p">.</span><span class="nx">descriptiveValues</span><span class="p">.</span><span class="nx">push</span> <span class="p">({</span>
            <span class="nx">value</span><span class="o">:</span> <span class="nb">String</span><span class="p">(</span><span class="nx">v</span><span class="p">),</span>
            <span class="nx">isDefault</span><span class="o">:</span> <span class="p">(</span><span class="nx">v</span> <span class="o">===</span> <span class="nx">param</span><span class="p">.</span><span class="nx">defaultValue</span><span class="p">)</span>
          <span class="p">});</span>
        <span class="p">}</span>
        <span class="k">else</span> <span class="p">{</span>
          <span class="nx">param</span><span class="p">.</span><span class="nx">allowableValues</span><span class="p">.</span><span class="nx">descriptiveValues</span><span class="p">.</span><span class="nx">push</span> <span class="p">({</span>
            <span class="nx">value</span><span class="o">:</span> <span class="nb">String</span><span class="p">(</span><span class="nx">v</span><span class="p">),</span>
            <span class="nx">isDefault</span><span class="o">:</span> <span class="kc">false</span>
          <span class="p">});</span>
        <span class="p">}</span>
      <span class="p">}</span>
    <span class="p">}</span>
    <span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="nx">param</span><span class="p">.</span><span class="nx">allowableValues</span> <span class="o">!=</span> <span class="kc">null</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">if</span><span class="p">(</span><span class="nx">param</span><span class="p">.</span><span class="nx">allowableValues</span><span class="p">.</span><span class="nx">valueType</span> <span class="o">===</span> <span class="s2">&quot;RANGE&quot;</span><span class="p">)</span>
        <span class="nx">param</span><span class="p">.</span><span class="nx">isRange</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
      <span class="k">else</span>
        <span class="nx">param</span><span class="p">.</span><span class="nx">isList</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
      <span class="k">if</span><span class="p">(</span><span class="nx">param</span><span class="p">.</span><span class="nx">allowableValues</span> <span class="o">!=</span> <span class="kc">null</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">param</span><span class="p">.</span><span class="nx">allowableValues</span><span class="p">.</span><span class="nx">descriptiveValues</span> <span class="o">=</span> <span class="p">[];</span>
        <span class="k">if</span><span class="p">(</span><span class="nx">param</span><span class="p">.</span><span class="nx">allowableValues</span><span class="p">.</span><span class="nx">values</span><span class="p">)</span> <span class="p">{</span>
          <span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">j</span> <span class="o">&lt;</span> <span class="nx">param</span><span class="p">.</span><span class="nx">allowableValues</span><span class="p">.</span><span class="nx">values</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">j</span><span class="o">++</span><span class="p">){</span>
            <span class="kd">var</span> <span class="nx">v</span> <span class="o">=</span> <span class="nx">param</span><span class="p">.</span><span class="nx">allowableValues</span><span class="p">.</span><span class="nx">values</span><span class="p">[</span><span class="nx">j</span><span class="p">];</span>
            <span class="k">if</span><span class="p">(</span><span class="nx">param</span><span class="p">.</span><span class="nx">defaultValue</span> <span class="o">!=</span> <span class="kc">null</span><span class="p">)</span> <span class="p">{</span>
              <span class="nx">param</span><span class="p">.</span><span class="nx">allowableValues</span><span class="p">.</span><span class="nx">descriptiveValues</span><span class="p">.</span><span class="nx">push</span> <span class="p">({</span>
                <span class="nx">value</span><span class="o">:</span> <span class="nb">String</span><span class="p">(</span><span class="nx">v</span><span class="p">),</span>
                <span class="nx">isDefault</span><span class="o">:</span> <span class="p">(</span><span class="nx">v</span> <span class="o">===</span> <span class="nx">param</span><span class="p">.</span><span class="nx">defaultValue</span><span class="p">)</span>
              <span class="p">});</span>
            <span class="p">}</span>
            <span class="k">else</span> <span class="p">{</span>
              <span class="nx">param</span><span class="p">.</span><span class="nx">allowableValues</span><span class="p">.</span><span class="nx">descriptiveValues</span><span class="p">.</span><span class="nx">push</span> <span class="p">({</span>
                <span class="nx">value</span><span class="o">:</span> <span class="nb">String</span><span class="p">(</span><span class="nx">v</span><span class="p">),</span>
                <span class="nx">isDefault</span><span class="o">:</span> <span class="kc">false</span>
              <span class="p">});</span>
            <span class="p">}</span>
          <span class="p">}</span>
        <span class="p">}</span>
      <span class="p">}</span>
    <span class="p">}</span>
    <span class="nx">param</span><span class="p">.</span><span class="nx">defaultValue</span> <span class="o">=</span> <span class="nx">parameterMacro</span><span class="p">(</span><span class="nx">param</span><span class="p">.</span><span class="nx">defaultValue</span><span class="p">);</span>
  <span class="p">}</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">resource</span><span class="p">[</span><span class="k">this</span><span class="p">.</span><span class="nx">nickname</span><span class="p">]</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">args</span><span class="p">,</span> <span class="nx">callback</span><span class="p">,</span> <span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">_this</span><span class="p">[</span><span class="s2">&quot;do&quot;</span><span class="p">](</span><span class="nx">args</span><span class="p">,</span> <span class="nx">callback</span><span class="p">,</span> <span class="nx">error</span><span class="p">);</span>
  <span class="p">};</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">resource</span><span class="p">[</span><span class="k">this</span><span class="p">.</span><span class="nx">nickname</span><span class="p">].</span><span class="nx">help</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">_this</span><span class="p">.</span><span class="nx">help</span><span class="p">();</span>
  <span class="p">};</span>
<span class="p">}</span>

<span class="nx">SwaggerOperation</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">isListType</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">type</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">type</span> <span class="o">&amp;&amp;</span> <span class="nx">type</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="s1">&#39;[&#39;</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">type</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="nx">type</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="s1">&#39;[&#39;</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">type</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="s1">&#39;]&#39;</span><span class="p">));</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="k">return</span> <span class="k">void</span> <span class="mi">0</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">};</span>

<span class="nx">SwaggerOperation</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">getSignature</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">type</span><span class="p">,</span> <span class="nx">models</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">isPrimitive</span><span class="p">,</span> <span class="nx">listType</span><span class="p">;</span>
  <span class="nx">listType</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">isListType</span><span class="p">(</span><span class="nx">type</span><span class="p">);</span>
  <span class="nx">isPrimitive</span> <span class="o">=</span> <span class="p">((</span><span class="nx">listType</span> <span class="o">!=</span> <span class="kc">null</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="nx">models</span><span class="p">[</span><span class="nx">listType</span><span class="p">])</span> <span class="o">||</span> <span class="p">(</span><span class="nx">models</span><span class="p">[</span><span class="nx">type</span><span class="p">]</span> <span class="o">!=</span> <span class="kc">null</span><span class="p">)</span> <span class="o">?</span> <span class="kc">false</span> <span class="o">:</span> <span class="kc">true</span><span class="p">;</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">isPrimitive</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">type</span><span class="p">;</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">listType</span> <span class="o">!=</span> <span class="kc">null</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">return</span> <span class="nx">models</span><span class="p">[</span><span class="nx">listType</span><span class="p">].</span><span class="nx">getMockSignature</span><span class="p">();</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
      <span class="k">return</span> <span class="nx">models</span><span class="p">[</span><span class="nx">type</span><span class="p">].</span><span class="nx">getMockSignature</span><span class="p">();</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">};</span>

<span class="nx">SwaggerOperation</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">getSampleJSON</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">type</span><span class="p">,</span> <span class="nx">models</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">isPrimitive</span><span class="p">,</span> <span class="nx">listType</span><span class="p">,</span> <span class="nx">val</span><span class="p">;</span>
  <span class="nx">listType</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">isListType</span><span class="p">(</span><span class="nx">type</span><span class="p">);</span>
  <span class="nx">isPrimitive</span> <span class="o">=</span> <span class="p">((</span><span class="nx">listType</span> <span class="o">!=</span> <span class="kc">null</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="nx">models</span><span class="p">[</span><span class="nx">listType</span><span class="p">])</span> <span class="o">||</span> <span class="p">(</span><span class="nx">models</span><span class="p">[</span><span class="nx">type</span><span class="p">]</span> <span class="o">!=</span> <span class="kc">null</span><span class="p">)</span> <span class="o">?</span> <span class="kc">false</span> <span class="o">:</span> <span class="kc">true</span><span class="p">;</span>
  <span class="nx">val</span> <span class="o">=</span> <span class="nx">isPrimitive</span> <span class="o">?</span> <span class="k">void</span> <span class="mi">0</span> <span class="o">:</span> <span class="p">(</span><span class="nx">listType</span> <span class="o">!=</span> <span class="kc">null</span> <span class="o">?</span> <span class="nx">models</span><span class="p">[</span><span class="nx">listType</span><span class="p">].</span><span class="nx">createJSONSample</span><span class="p">()</span> <span class="o">:</span> <span class="nx">models</span><span class="p">[</span><span class="nx">type</span><span class="p">].</span><span class="nx">createJSONSample</span><span class="p">());</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">val</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">val</span> <span class="o">=</span> <span class="nx">listType</span> <span class="o">?</span> <span class="p">[</span><span class="nx">val</span><span class="p">]</span> <span class="o">:</span> <span class="nx">val</span><span class="p">;</span>
    <span class="k">if</span><span class="p">(</span><span class="k">typeof</span> <span class="nx">val</span> <span class="o">==</span> <span class="s2">&quot;string&quot;</span><span class="p">)</span>
      <span class="k">return</span> <span class="nx">val</span><span class="p">;</span>
    <span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="k">typeof</span> <span class="nx">val</span> <span class="o">===</span> <span class="s2">&quot;object&quot;</span><span class="p">)</span> <span class="p">{</span>
      <span class="kd">var</span> <span class="nx">t</span> <span class="o">=</span> <span class="nx">val</span><span class="p">;</span>
      <span class="k">if</span><span class="p">(</span><span class="nx">val</span> <span class="k">instanceof</span> <span class="nb">Array</span> <span class="o">&amp;&amp;</span> <span class="nx">val</span><span class="p">.</span><span class="nx">length</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">t</span> <span class="o">=</span> <span class="nx">val</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
      <span class="p">}</span>
      <span class="k">if</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">nodeName</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">xmlString</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">XMLSerializer</span><span class="p">().</span><span class="nx">serializeToString</span><span class="p">(</span><span class="nx">t</span><span class="p">);</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">formatXml</span><span class="p">(</span><span class="nx">xmlString</span><span class="p">);</span>
      <span class="p">}</span>
      <span class="k">else</span>
        <span class="k">return</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">val</span><span class="p">,</span> <span class="kc">null</span><span class="p">,</span> <span class="mi">2</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="k">else</span>
      <span class="k">return</span> <span class="nx">val</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">};</span>

<span class="nx">SwaggerOperation</span><span class="p">.</span><span class="nx">prototype</span><span class="p">[</span><span class="s2">&quot;do&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">args</span><span class="p">,</span> <span class="nx">opts</span><span class="p">,</span> <span class="nx">callback</span><span class="p">,</span> <span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">key</span><span class="p">,</span> <span class="nx">param</span><span class="p">,</span> <span class="nx">params</span><span class="p">,</span> <span class="nx">possibleParams</span><span class="p">,</span> <span class="nx">req</span><span class="p">,</span> <span class="nx">requestContentType</span><span class="p">,</span> <span class="nx">responseContentType</span><span class="p">,</span> <span class="nx">value</span><span class="p">,</span> <span class="nx">_i</span><span class="p">,</span> <span class="nx">_len</span><span class="p">,</span> <span class="nx">_ref</span><span class="p">;</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">args</span> <span class="o">==</span> <span class="kc">null</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">args</span> <span class="o">=</span> <span class="p">{};</span>
  <span class="p">}</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">opts</span> <span class="o">==</span> <span class="kc">null</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">opts</span> <span class="o">=</span> <span class="p">{};</span>
  <span class="p">}</span>
  <span class="nx">requestContentType</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
  <span class="nx">responseContentType</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
  <span class="k">if</span> <span class="p">((</span><span class="k">typeof</span> <span class="nx">args</span><span class="p">)</span> <span class="o">===</span> <span class="s2">&quot;function&quot;</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">error</span> <span class="o">=</span> <span class="nx">opts</span><span class="p">;</span>
    <span class="nx">callback</span> <span class="o">=</span> <span class="nx">args</span><span class="p">;</span>
    <span class="nx">args</span> <span class="o">=</span> <span class="p">{};</span>
  <span class="p">}</span>
  <span class="k">if</span> <span class="p">((</span><span class="k">typeof</span> <span class="nx">opts</span><span class="p">)</span> <span class="o">===</span> <span class="s2">&quot;function&quot;</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">error</span> <span class="o">=</span> <span class="nx">callback</span><span class="p">;</span>
    <span class="nx">callback</span> <span class="o">=</span> <span class="nx">opts</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">error</span> <span class="o">==</span> <span class="kc">null</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">error</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">xhr</span><span class="p">,</span> <span class="nx">textStatus</span><span class="p">,</span> <span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">return</span> <span class="nx">log</span><span class="p">(</span><span class="nx">xhr</span><span class="p">,</span> <span class="nx">textStatus</span><span class="p">,</span> <span class="nx">error</span><span class="p">);</span>
    <span class="p">};</span>
  <span class="p">}</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">callback</span> <span class="o">==</span> <span class="kc">null</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">callback</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
      <span class="kd">var</span> <span class="nx">content</span><span class="p">;</span>
      <span class="nx">content</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
      <span class="k">if</span> <span class="p">(</span><span class="nx">response</span> <span class="o">!=</span> <span class="kc">null</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">content</span> <span class="o">=</span> <span class="nx">response</span><span class="p">.</span><span class="nx">data</span><span class="p">;</span>
      <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="nx">content</span> <span class="o">=</span> <span class="s2">&quot;no data&quot;</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">return</span> <span class="nx">log</span><span class="p">(</span><span class="s2">&quot;default callback: &quot;</span> <span class="o">+</span> <span class="nx">content</span><span class="p">);</span>
    <span class="p">};</span>
  <span class="p">}</span>
  <span class="nx">params</span> <span class="o">=</span> <span class="p">{};</span>
  <span class="nx">params</span><span class="p">.</span><span class="nx">headers</span> <span class="o">=</span> <span class="p">[];</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">args</span><span class="p">.</span><span class="nx">headers</span> <span class="o">!=</span> <span class="kc">null</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">params</span><span class="p">.</span><span class="nx">headers</span> <span class="o">=</span> <span class="nx">args</span><span class="p">.</span><span class="nx">headers</span><span class="p">;</span>
    <span class="k">delete</span> <span class="nx">args</span><span class="p">.</span><span class="nx">headers</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="kd">var</span> <span class="nx">possibleParams</span> <span class="o">=</span> <span class="p">[];</span>
  <span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="k">this</span><span class="p">.</span><span class="nx">parameters</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">param</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">parameters</span><span class="p">[</span><span class="nx">i</span><span class="p">];</span>
    <span class="k">if</span><span class="p">(</span><span class="nx">param</span><span class="p">.</span><span class="nx">paramType</span> <span class="o">===</span> <span class="s1">&#39;header&#39;</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">if</span><span class="p">(</span><span class="nx">args</span><span class="p">[</span><span class="nx">param</span><span class="p">.</span><span class="nx">name</span><span class="p">])</span>
        <span class="nx">params</span><span class="p">.</span><span class="nx">headers</span><span class="p">[</span><span class="nx">param</span><span class="p">.</span><span class="nx">name</span><span class="p">]</span> <span class="o">=</span> <span class="nx">args</span><span class="p">[</span><span class="nx">param</span><span class="p">.</span><span class="nx">name</span><span class="p">];</span>
    <span class="p">}</span>
    <span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="nx">param</span><span class="p">.</span><span class="nx">paramType</span> <span class="o">===</span> <span class="s1">&#39;form&#39;</span> <span class="o">||</span> <span class="nx">param</span><span class="p">.</span><span class="nx">paramType</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">()</span> <span class="o">===</span> <span class="s1">&#39;file&#39;</span><span class="p">)</span>
      <span class="nx">possibleParams</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">param</span><span class="p">);</span>
  <span class="p">}</span>

  <span class="k">if</span> <span class="p">(</span><span class="nx">args</span><span class="p">.</span><span class="nx">body</span> <span class="o">!=</span> <span class="kc">null</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">params</span><span class="p">.</span><span class="nx">body</span> <span class="o">=</span> <span class="nx">args</span><span class="p">.</span><span class="nx">body</span><span class="p">;</span>
    <span class="k">delete</span> <span class="nx">args</span><span class="p">.</span><span class="nx">body</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="k">if</span> <span class="p">(</span><span class="nx">possibleParams</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">key</span><span class="p">;</span>
    <span class="k">for</span> <span class="p">(</span><span class="nx">key</span> <span class="k">in</span> <span class="nx">possibleParams</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">value</span> <span class="o">=</span> <span class="nx">possibleParams</span><span class="p">[</span><span class="nx">key</span><span class="p">];</span>
      <span class="k">if</span> <span class="p">(</span><span class="nx">args</span><span class="p">[</span><span class="nx">value</span><span class="p">.</span><span class="nx">name</span><span class="p">])</span> <span class="p">{</span>
        <span class="nx">params</span><span class="p">[</span><span class="nx">value</span><span class="p">.</span><span class="nx">name</span><span class="p">]</span> <span class="o">=</span> <span class="nx">args</span><span class="p">[</span><span class="nx">value</span><span class="p">.</span><span class="nx">name</span><span class="p">];</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">}</span>

  <span class="nx">req</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">SwaggerRequest</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">method</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">urlify</span><span class="p">(</span><span class="nx">args</span><span class="p">),</span> <span class="nx">params</span><span class="p">,</span> <span class="nx">opts</span><span class="p">,</span> <span class="nx">callback</span><span class="p">,</span> <span class="nx">error</span><span class="p">,</span> <span class="k">this</span><span class="p">);</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">opts</span><span class="p">.</span><span class="nx">mock</span> <span class="o">!=</span> <span class="kc">null</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">req</span><span class="p">;</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">};</span>

<span class="nx">SwaggerOperation</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">pathJson</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">path</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="s2">&quot;{format}&quot;</span><span class="p">,</span> <span class="s2">&quot;json&quot;</span><span class="p">);</span>
<span class="p">};</span>

<span class="nx">SwaggerOperation</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">pathXml</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">path</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="s2">&quot;{format}&quot;</span><span class="p">,</span> <span class="s2">&quot;xml&quot;</span><span class="p">);</span>
<span class="p">};</span>

<span class="nx">SwaggerOperation</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">encodePathParam</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">pathParam</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">encParts</span><span class="p">,</span> <span class="nx">part</span><span class="p">,</span> <span class="nx">parts</span><span class="p">,</span> <span class="nx">_i</span><span class="p">,</span> <span class="nx">_len</span><span class="p">;</span>
  <span class="nx">pathParam</span> <span class="o">=</span> <span class="nx">pathParam</span><span class="p">.</span><span class="nx">toString</span><span class="p">();</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">pathParam</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">)</span> <span class="o">===</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nb">encodeURIComponent</span><span class="p">(</span><span class="nx">pathParam</span><span class="p">);</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="nx">parts</span> <span class="o">=</span> <span class="nx">pathParam</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">);</span>
    <span class="nx">encParts</span> <span class="o">=</span> <span class="p">[];</span>
    <span class="k">for</span> <span class="p">(</span><span class="nx">_i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">_len</span> <span class="o">=</span> <span class="nx">parts</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">_i</span> <span class="o">&lt;</span> <span class="nx">_len</span><span class="p">;</span> <span class="nx">_i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">part</span> <span class="o">=</span> <span class="nx">parts</span><span class="p">[</span><span class="nx">_i</span><span class="p">];</span>
      <span class="nx">encParts</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nb">encodeURIComponent</span><span class="p">(</span><span class="nx">part</span><span class="p">));</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="nx">encParts</span><span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">};</span>

<span class="nx">SwaggerOperation</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">urlify</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">args</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">url</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">resource</span><span class="p">.</span><span class="nx">basePath</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">pathJson</span><span class="p">();</span>
  <span class="kd">var</span> <span class="nx">params</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">parameters</span><span class="p">;</span>
  <span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">params</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span> <span class="o">++</span><span class="p">){</span>
    <span class="kd">var</span> <span class="nx">param</span> <span class="o">=</span> <span class="nx">params</span><span class="p">[</span><span class="nx">i</span><span class="p">];</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">param</span><span class="p">.</span><span class="nx">paramType</span> <span class="o">===</span> <span class="s1">&#39;path&#39;</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">if</span><span class="p">(</span><span class="nx">args</span><span class="p">[</span><span class="nx">param</span><span class="p">.</span><span class="nx">name</span><span class="p">])</span> <span class="p">{</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-7" id="section-7">&#182;</a>
</div>
<p>apply path params and remove from args</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
        <span class="kd">var</span> <span class="nx">reg</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">RegExp</span><span class="p">(</span><span class="s1">&#39;\{&#39;</span> <span class="o">+</span> <span class="nx">param</span><span class="p">.</span><span class="nx">name</span> <span class="o">+</span> <span class="s1">&#39;[^\}]*\}&#39;</span><span class="p">,</span> <span class="s1">&#39;gi&#39;</span><span class="p">);</span>
        <span class="nx">url</span> <span class="o">=</span> <span class="nx">url</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="nx">reg</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">encodePathParam</span><span class="p">(</span><span class="nx">args</span><span class="p">[</span><span class="nx">param</span><span class="p">.</span><span class="nx">name</span><span class="p">]));</span>
        <span class="k">delete</span> <span class="nx">args</span><span class="p">[</span><span class="nx">param</span><span class="p">.</span><span class="nx">name</span><span class="p">];</span>
      <span class="p">}</span>
      <span class="k">else</span>
        <span class="k">throw</span> <span class="s2">&quot;&quot;</span> <span class="o">+</span> <span class="nx">param</span><span class="p">.</span><span class="nx">name</span> <span class="o">+</span> <span class="s2">&quot; is a required path param.&quot;</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="p">}</span>

  <span class="kd">var</span> <span class="nx">queryParams</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">;</span>
  <span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">params</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span> <span class="o">++</span><span class="p">){</span>
    <span class="kd">var</span> <span class="nx">param</span> <span class="o">=</span> <span class="nx">params</span><span class="p">[</span><span class="nx">i</span><span class="p">];</span>
    <span class="k">if</span><span class="p">(</span><span class="nx">param</span><span class="p">.</span><span class="nx">paramType</span> <span class="o">===</span> <span class="s1">&#39;query&#39;</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">if</span> <span class="p">(</span><span class="nx">args</span><span class="p">[</span><span class="nx">param</span><span class="p">.</span><span class="nx">name</span><span class="p">]</span> <span class="o">!==</span> <span class="kc">undefined</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">queryParams</span> <span class="o">!==</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
          <span class="nx">queryParams</span> <span class="o">+=</span> <span class="s2">&quot;&amp;&quot;</span><span class="p">;</span>
        <span class="nx">queryParams</span> <span class="o">+=</span> <span class="nb">encodeURIComponent</span><span class="p">(</span><span class="nx">param</span><span class="p">.</span><span class="nx">name</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;=&#39;</span> <span class="o">+</span> <span class="nb">encodeURIComponent</span><span class="p">(</span><span class="nx">args</span><span class="p">[</span><span class="nx">param</span><span class="p">.</span><span class="nx">name</span><span class="p">]);</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">}</span>
  <span class="k">if</span> <span class="p">((</span><span class="nx">queryParams</span> <span class="o">!=</span> <span class="kc">null</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="nx">queryParams</span><span class="p">.</span><span class="nx">length</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span>
    <span class="nx">url</span> <span class="o">+=</span> <span class="s1">&#39;?&#39;</span> <span class="o">+</span> <span class="nx">queryParams</span><span class="p">;</span>
  <span class="k">return</span> <span class="nx">url</span><span class="p">;</span>
<span class="p">};</span>

<span class="nx">SwaggerOperation</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">supportHeaderParams</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">resource</span><span class="p">.</span><span class="nx">api</span><span class="p">.</span><span class="nx">supportHeaderParams</span><span class="p">;</span>
<span class="p">};</span>

<span class="nx">SwaggerOperation</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">supportedSubmitMethods</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">resource</span><span class="p">.</span><span class="nx">api</span><span class="p">.</span><span class="nx">supportedSubmitMethods</span><span class="p">;</span>
<span class="p">};</span>

<span class="nx">SwaggerOperation</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">getQueryParams</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">args</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">getMatchingParams</span><span class="p">([</span><span class="s1">&#39;query&#39;</span><span class="p">],</span> <span class="nx">args</span><span class="p">);</span>
<span class="p">};</span>

<span class="nx">SwaggerOperation</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">getHeaderParams</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">args</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">getMatchingParams</span><span class="p">([</span><span class="s1">&#39;header&#39;</span><span class="p">],</span> <span class="nx">args</span><span class="p">);</span>
<span class="p">};</span>

<span class="nx">SwaggerOperation</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">getMatchingParams</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">paramTypes</span><span class="p">,</span> <span class="nx">args</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">matchingParams</span> <span class="o">=</span> <span class="p">{};</span>
  <span class="kd">var</span> <span class="nx">params</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">parameters</span><span class="p">;</span>
  <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">params</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">param</span> <span class="o">=</span> <span class="nx">params</span><span class="p">[</span><span class="nx">i</span><span class="p">];</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">args</span> <span class="o">&amp;&amp;</span> <span class="nx">args</span><span class="p">[</span><span class="nx">param</span><span class="p">.</span><span class="nx">name</span><span class="p">])</span>
      <span class="nx">matchingParams</span><span class="p">[</span><span class="nx">param</span><span class="p">.</span><span class="nx">name</span><span class="p">]</span> <span class="o">=</span> <span class="nx">args</span><span class="p">[</span><span class="nx">param</span><span class="p">.</span><span class="nx">name</span><span class="p">];</span>
  <span class="p">}</span>
  <span class="kd">var</span> <span class="nx">headers</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">resource</span><span class="p">.</span><span class="nx">api</span><span class="p">.</span><span class="nx">headers</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">name</span><span class="p">;</span>
  <span class="k">for</span> <span class="p">(</span><span class="nx">name</span> <span class="k">in</span> <span class="nx">headers</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">value</span> <span class="o">=</span> <span class="nx">headers</span><span class="p">[</span><span class="nx">name</span><span class="p">];</span>
    <span class="nx">matchingParams</span><span class="p">[</span><span class="nx">name</span><span class="p">]</span> <span class="o">=</span> <span class="nx">value</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="k">return</span> <span class="nx">matchingParams</span><span class="p">;</span>
<span class="p">};</span>

<span class="nx">SwaggerOperation</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">help</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">msg</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">params</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">parameters</span><span class="p">;</span>
  <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">params</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">param</span> <span class="o">=</span> <span class="nx">params</span><span class="p">[</span><span class="nx">i</span><span class="p">];</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">msg</span> <span class="o">!==</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
      <span class="nx">msg</span> <span class="o">+=</span> <span class="s2">&quot;\n&quot;</span><span class="p">;</span>
    <span class="nx">msg</span> <span class="o">+=</span> <span class="s2">&quot;* &quot;</span> <span class="o">+</span> <span class="nx">param</span><span class="p">.</span><span class="nx">name</span> <span class="o">+</span> <span class="p">(</span><span class="nx">param</span><span class="p">.</span><span class="nx">required</span> <span class="o">?</span> <span class="s1">&#39; (required)&#39;</span> <span class="o">:</span> <span class="s1">&#39;&#39;</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot; - &quot;</span> <span class="o">+</span> <span class="nx">param</span><span class="p">.</span><span class="nx">description</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="k">return</span> <span class="nx">msg</span><span class="p">;</span>
<span class="p">};</span>


<span class="nx">SwaggerOperation</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">formatXml</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">xml</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">contexp</span><span class="p">,</span> <span class="nx">formatted</span><span class="p">,</span> <span class="nx">indent</span><span class="p">,</span> <span class="nx">lastType</span><span class="p">,</span> <span class="nx">lines</span><span class="p">,</span> <span class="nx">ln</span><span class="p">,</span> <span class="nx">pad</span><span class="p">,</span> <span class="nx">reg</span><span class="p">,</span> <span class="nx">transitions</span><span class="p">,</span> <span class="nx">wsexp</span><span class="p">,</span> <span class="nx">_fn</span><span class="p">,</span> <span class="nx">_i</span><span class="p">,</span> <span class="nx">_len</span><span class="p">;</span>
  <span class="nx">reg</span> <span class="o">=</span> <span class="sr">/(&gt;)(&lt;)(\/*)/g</span><span class="p">;</span>
  <span class="nx">wsexp</span> <span class="o">=</span> <span class="sr">/[ ]*(.*)[ ]+\n/g</span><span class="p">;</span>
  <span class="nx">contexp</span> <span class="o">=</span> <span class="sr">/(&lt;.+&gt;)(.+\n)/g</span><span class="p">;</span>
  <span class="nx">xml</span> <span class="o">=</span> <span class="nx">xml</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="nx">reg</span><span class="p">,</span> <span class="s1">&#39;$1\n$2$3&#39;</span><span class="p">).</span><span class="nx">replace</span><span class="p">(</span><span class="nx">wsexp</span><span class="p">,</span> <span class="s1">&#39;$1\n&#39;</span><span class="p">).</span><span class="nx">replace</span><span class="p">(</span><span class="nx">contexp</span><span class="p">,</span> <span class="s1">&#39;$1\n$2&#39;</span><span class="p">);</span>
  <span class="nx">pad</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
  <span class="nx">formatted</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="p">;</span>
  <span class="nx">lines</span> <span class="o">=</span> <span class="nx">xml</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="s1">&#39;\n&#39;</span><span class="p">);</span>
  <span class="nx">indent</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
  <span class="nx">lastType</span> <span class="o">=</span> <span class="s1">&#39;other&#39;</span><span class="p">;</span>
  <span class="nx">transitions</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;single-&gt;single&#39;</span><span class="o">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s1">&#39;single-&gt;closing&#39;</span><span class="o">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span>
    <span class="s1">&#39;single-&gt;opening&#39;</span><span class="o">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s1">&#39;single-&gt;other&#39;</span><span class="o">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s1">&#39;closing-&gt;single&#39;</span><span class="o">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s1">&#39;closing-&gt;closing&#39;</span><span class="o">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span>
    <span class="s1">&#39;closing-&gt;opening&#39;</span><span class="o">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s1">&#39;closing-&gt;other&#39;</span><span class="o">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s1">&#39;opening-&gt;single&#39;</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s1">&#39;opening-&gt;closing&#39;</span><span class="o">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s1">&#39;opening-&gt;opening&#39;</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s1">&#39;opening-&gt;other&#39;</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s1">&#39;other-&gt;single&#39;</span><span class="o">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s1">&#39;other-&gt;closing&#39;</span><span class="o">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span>
    <span class="s1">&#39;other-&gt;opening&#39;</span><span class="o">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s1">&#39;other-&gt;other&#39;</span><span class="o">:</span> <span class="mi">0</span>
  <span class="p">};</span>
  <span class="nx">_fn</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">ln</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">fromTo</span><span class="p">,</span> <span class="nx">j</span><span class="p">,</span> <span class="nx">key</span><span class="p">,</span> <span class="nx">padding</span><span class="p">,</span> <span class="nx">type</span><span class="p">,</span> <span class="nx">types</span><span class="p">,</span> <span class="nx">value</span><span class="p">;</span>
    <span class="nx">types</span> <span class="o">=</span> <span class="p">{</span>
      <span class="nx">single</span><span class="o">:</span> <span class="nb">Boolean</span><span class="p">(</span><span class="nx">ln</span><span class="p">.</span><span class="nx">match</span><span class="p">(</span><span class="sr">/&lt;.+\/&gt;/</span><span class="p">)),</span>
      <span class="nx">closing</span><span class="o">:</span> <span class="nb">Boolean</span><span class="p">(</span><span class="nx">ln</span><span class="p">.</span><span class="nx">match</span><span class="p">(</span><span class="sr">/&lt;\/.+&gt;/</span><span class="p">)),</span>
      <span class="nx">opening</span><span class="o">:</span> <span class="nb">Boolean</span><span class="p">(</span><span class="nx">ln</span><span class="p">.</span><span class="nx">match</span><span class="p">(</span><span class="sr">/&lt;[^!?].*&gt;/</span><span class="p">))</span>
    <span class="p">};</span>
    <span class="nx">type</span> <span class="o">=</span> <span class="p">((</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
      <span class="kd">var</span> <span class="nx">_results</span><span class="p">;</span>
      <span class="nx">_results</span> <span class="o">=</span> <span class="p">[];</span>
      <span class="k">for</span> <span class="p">(</span><span class="nx">key</span> <span class="k">in</span> <span class="nx">types</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">value</span> <span class="o">=</span> <span class="nx">types</span><span class="p">[</span><span class="nx">key</span><span class="p">];</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">value</span><span class="p">)</span> <span class="p">{</span>
          <span class="nx">_results</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">key</span><span class="p">);</span>
        <span class="p">}</span>
      <span class="p">}</span>
      <span class="k">return</span> <span class="nx">_results</span><span class="p">;</span>
    <span class="p">})())[</span><span class="mi">0</span><span class="p">];</span>
    <span class="nx">type</span> <span class="o">=</span> <span class="nx">type</span> <span class="o">===</span> <span class="k">void</span> <span class="mi">0</span> <span class="o">?</span> <span class="s1">&#39;other&#39;</span> <span class="o">:</span> <span class="nx">type</span><span class="p">;</span>
    <span class="nx">fromTo</span> <span class="o">=</span> <span class="nx">lastType</span> <span class="o">+</span> <span class="s1">&#39;-&gt;&#39;</span> <span class="o">+</span> <span class="nx">type</span><span class="p">;</span>
    <span class="nx">lastType</span> <span class="o">=</span> <span class="nx">type</span><span class="p">;</span>
    <span class="nx">padding</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="p">;</span>
    <span class="nx">indent</span> <span class="o">+=</span> <span class="nx">transitions</span><span class="p">[</span><span class="nx">fromTo</span><span class="p">];</span>
    <span class="nx">padding</span> <span class="o">=</span> <span class="p">((</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
      <span class="kd">var</span> <span class="nx">_j</span><span class="p">,</span> <span class="nx">_ref5</span><span class="p">,</span> <span class="nx">_results</span><span class="p">;</span>
      <span class="nx">_results</span> <span class="o">=</span> <span class="p">[];</span>
      <span class="k">for</span> <span class="p">(</span><span class="nx">j</span> <span class="o">=</span> <span class="nx">_j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">_ref5</span> <span class="o">=</span> <span class="nx">indent</span><span class="p">;</span> <span class="mi">0</span> <span class="o">&lt;=</span> <span class="nx">_ref5</span> <span class="o">?</span> <span class="nx">_j</span> <span class="o">&lt;</span> <span class="nx">_ref5</span> <span class="o">:</span> <span class="nx">_j</span> <span class="o">&gt;</span> <span class="nx">_ref5</span><span class="p">;</span> <span class="nx">j</span> <span class="o">=</span> <span class="mi">0</span> <span class="o">&lt;=</span> <span class="nx">_ref5</span> <span class="o">?</span> <span class="o">++</span><span class="nx">_j</span> <span class="o">:</span> <span class="o">--</span><span class="nx">_j</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">_results</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="s1">&#39;  &#39;</span><span class="p">);</span>
      <span class="p">}</span>
      <span class="k">return</span> <span class="nx">_results</span><span class="p">;</span>
    <span class="p">})()).</span><span class="nx">join</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">);</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">fromTo</span> <span class="o">===</span> <span class="s1">&#39;opening-&gt;closing&#39;</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">return</span> <span class="nx">formatted</span> <span class="o">=</span> <span class="nx">formatted</span><span class="p">.</span><span class="nx">substr</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nx">formatted</span><span class="p">.</span><span class="nx">length</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">+</span> <span class="nx">ln</span> <span class="o">+</span> <span class="s1">&#39;\n&#39;</span><span class="p">;</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
      <span class="k">return</span> <span class="nx">formatted</span> <span class="o">+=</span> <span class="nx">padding</span> <span class="o">+</span> <span class="nx">ln</span> <span class="o">+</span> <span class="s1">&#39;\n&#39;</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="p">};</span>
  <span class="k">for</span> <span class="p">(</span><span class="nx">_i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">_len</span> <span class="o">=</span> <span class="nx">lines</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">_i</span> <span class="o">&lt;</span> <span class="nx">_len</span><span class="p">;</span> <span class="nx">_i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">ln</span> <span class="o">=</span> <span class="nx">lines</span><span class="p">[</span><span class="nx">_i</span><span class="p">];</span>
    <span class="nx">_fn</span><span class="p">(</span><span class="nx">ln</span><span class="p">);</span>
  <span class="p">}</span>
  <span class="k">return</span> <span class="nx">formatted</span><span class="p">;</span>
<span class="p">};</span>

<span class="kd">var</span> <span class="nx">SwaggerRequest</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">type</span><span class="p">,</span> <span class="nx">url</span><span class="p">,</span> <span class="nx">params</span><span class="p">,</span> <span class="nx">opts</span><span class="p">,</span> <span class="nx">successCallback</span><span class="p">,</span> <span class="nx">errorCallback</span><span class="p">,</span> <span class="nx">operation</span><span class="p">,</span> <span class="nx">execution</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">_this</span> <span class="o">=</span> <span class="k">this</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">errors</span> <span class="o">=</span> <span class="p">[];</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">useJQuery</span> <span class="o">=</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">operation</span><span class="p">.</span><span class="nx">resource</span><span class="p">.</span><span class="nx">useJQuery</span> <span class="o">!==</span> <span class="s1">&#39;undefined&#39;</span> <span class="o">?</span> <span class="nx">operation</span><span class="p">.</span><span class="nx">resource</span><span class="p">.</span><span class="nx">useJQuery</span> <span class="o">:</span> <span class="kc">null</span><span class="p">);</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">type</span> <span class="o">=</span> <span class="p">(</span><span class="nx">type</span><span class="o">||</span><span class="nx">errors</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="s2">&quot;SwaggerRequest type is required (get/post/put/delete/patch/options).&quot;</span><span class="p">));</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">url</span> <span class="o">=</span> <span class="p">(</span><span class="nx">url</span><span class="o">||</span><span class="nx">errors</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="s2">&quot;SwaggerRequest url is required.&quot;</span><span class="p">));</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">params</span> <span class="o">=</span> <span class="nx">params</span><span class="p">;</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">opts</span> <span class="o">=</span> <span class="nx">opts</span><span class="p">;</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">successCallback</span> <span class="o">=</span> <span class="p">(</span><span class="nx">successCallback</span><span class="o">||</span><span class="nx">errors</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="s2">&quot;SwaggerRequest successCallback is required.&quot;</span><span class="p">));</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">errorCallback</span> <span class="o">=</span> <span class="p">(</span><span class="nx">errorCallback</span><span class="o">||</span><span class="nx">errors</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="s2">&quot;SwaggerRequest error callback is required.&quot;</span><span class="p">));</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">operation</span> <span class="o">=</span> <span class="p">(</span><span class="nx">operation</span><span class="o">||</span><span class="nx">errors</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="s2">&quot;SwaggerRequest operation is required.&quot;</span><span class="p">));</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">execution</span> <span class="o">=</span> <span class="nx">execution</span><span class="p">;</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">headers</span> <span class="o">=</span> <span class="p">(</span><span class="nx">params</span><span class="p">.</span><span class="nx">headers</span><span class="o">||</span><span class="p">{});</span>

  <span class="k">if</span><span class="p">(</span><span class="nx">errors</span><span class="p">.</span><span class="nx">length</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">throw</span> <span class="nx">errors</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="k">this</span><span class="p">.</span><span class="nx">type</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">type</span><span class="p">.</span><span class="nx">toUpperCase</span><span class="p">();</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-8" id="section-8">&#182;</a>
</div>
<p>set request, response content type headers</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
  <span class="kd">var</span> <span class="nx">headers</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">setHeaders</span><span class="p">(</span><span class="nx">params</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">operation</span><span class="p">);</span>
  <span class="kd">var</span> <span class="nx">body</span> <span class="o">=</span> <span class="nx">params</span><span class="p">.</span><span class="nx">body</span><span class="p">;</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-9" id="section-9">&#182;</a>
</div>
<p>encode the body for form submits</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
  <span class="k">if</span> <span class="p">(</span><span class="nx">headers</span><span class="p">[</span><span class="s2">&quot;Content-Type&quot;</span><span class="p">])</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">values</span> <span class="o">=</span> <span class="p">{};</span>
    <span class="kd">var</span> <span class="nx">i</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">operationParams</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">operation</span><span class="p">.</span><span class="nx">parameters</span><span class="p">;</span>
    <span class="k">for</span><span class="p">(</span><span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">operationParams</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
      <span class="kd">var</span> <span class="nx">param</span> <span class="o">=</span> <span class="nx">operationParams</span><span class="p">[</span><span class="nx">i</span><span class="p">];</span>
      <span class="k">if</span><span class="p">(</span><span class="nx">param</span><span class="p">.</span><span class="nx">paramType</span> <span class="o">===</span> <span class="s2">&quot;form&quot;</span><span class="p">)</span>
        <span class="nx">values</span><span class="p">[</span><span class="nx">param</span><span class="p">.</span><span class="nx">name</span><span class="p">]</span> <span class="o">=</span> <span class="nx">param</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">if</span><span class="p">(</span><span class="nx">headers</span><span class="p">[</span><span class="s2">&quot;Content-Type&quot;</span><span class="p">].</span><span class="nx">indexOf</span><span class="p">(</span><span class="s2">&quot;application/x-www-form-urlencoded&quot;</span><span class="p">)</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
      <span class="kd">var</span> <span class="nx">encoded</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">;</span>
      <span class="kd">var</span> <span class="nx">key</span><span class="p">;</span>
      <span class="k">for</span><span class="p">(</span><span class="nx">key</span> <span class="k">in</span> <span class="nx">values</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">value</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">params</span><span class="p">[</span><span class="nx">key</span><span class="p">];</span>
        <span class="k">if</span><span class="p">(</span><span class="k">typeof</span> <span class="nx">value</span> <span class="o">!==</span> <span class="s1">&#39;undefined&#39;</span><span class="p">){</span>
          <span class="k">if</span><span class="p">(</span><span class="nx">encoded</span> <span class="o">!==</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
            <span class="nx">encoded</span> <span class="o">+=</span> <span class="s2">&quot;&amp;&quot;</span><span class="p">;</span>
          <span class="nx">encoded</span> <span class="o">+=</span> <span class="nb">encodeURIComponent</span><span class="p">(</span><span class="nx">key</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;=&#39;</span> <span class="o">+</span> <span class="nb">encodeURIComponent</span><span class="p">(</span><span class="nx">value</span><span class="p">);</span>
        <span class="p">}</span>
      <span class="p">}</span>
      <span class="nx">body</span> <span class="o">=</span> <span class="nx">encoded</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">headers</span><span class="p">[</span><span class="s2">&quot;Content-Type&quot;</span><span class="p">].</span><span class="nx">indexOf</span><span class="p">(</span><span class="s2">&quot;multipart/form-data&quot;</span><span class="p">)</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-10" id="section-10">&#182;</a>
</div>
<p>encode the body for form submits</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
      <span class="kd">var</span> <span class="nx">data</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">;</span>
      <span class="kd">var</span> <span class="nx">boundary</span> <span class="o">=</span> <span class="s2">&quot;----SwaggerFormBoundary&quot;</span> <span class="o">+</span> <span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">();</span>
      <span class="kd">var</span> <span class="nx">key</span><span class="p">;</span>
      <span class="k">for</span><span class="p">(</span><span class="nx">key</span> <span class="k">in</span> <span class="nx">values</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">value</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">params</span><span class="p">[</span><span class="nx">key</span><span class="p">];</span>
        <span class="k">if</span><span class="p">(</span><span class="k">typeof</span> <span class="nx">value</span> <span class="o">!==</span> <span class="s1">&#39;undefined&#39;</span><span class="p">)</span> <span class="p">{</span>
          <span class="nx">data</span> <span class="o">+=</span> <span class="s1">&#39;--&#39;</span> <span class="o">+</span> <span class="nx">boundary</span> <span class="o">+</span> <span class="s1">&#39;\n&#39;</span><span class="p">;</span>
          <span class="nx">data</span> <span class="o">+=</span> <span class="s1">&#39;Content-Disposition: form-data; name=&quot;&#39;</span> <span class="o">+</span> <span class="nx">key</span> <span class="o">+</span> <span class="s1">&#39;&quot;&#39;</span><span class="p">;</span>
          <span class="nx">data</span> <span class="o">+=</span> <span class="s1">&#39;\n\n&#39;</span><span class="p">;</span>
          <span class="nx">data</span> <span class="o">+=</span> <span class="nx">value</span> <span class="o">+</span> <span class="s2">&quot;\n&quot;</span><span class="p">;</span>
        <span class="p">}</span>
      <span class="p">}</span>
      <span class="nx">data</span> <span class="o">+=</span> <span class="s2">&quot;--&quot;</span> <span class="o">+</span> <span class="nx">boundary</span> <span class="o">+</span> <span class="s2">&quot;--\n&quot;</span><span class="p">;</span>
      <span class="nx">headers</span><span class="p">[</span><span class="s2">&quot;Content-Type&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;multipart/form-data; boundary=&quot;</span> <span class="o">+</span> <span class="nx">boundary</span><span class="p">;</span>
      <span class="nx">body</span> <span class="o">=</span> <span class="nx">data</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="p">}</span>

  <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="p">((</span><span class="k">this</span><span class="p">.</span><span class="nx">headers</span> <span class="o">!=</span> <span class="kc">null</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">headers</span><span class="p">.</span><span class="nx">mock</span> <span class="o">!=</span> <span class="kc">null</span><span class="p">)))</span> <span class="p">{</span>
    <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span>
      <span class="nx">url</span><span class="o">:</span> <span class="k">this</span><span class="p">.</span><span class="nx">url</span><span class="p">,</span>
      <span class="nx">method</span><span class="o">:</span> <span class="k">this</span><span class="p">.</span><span class="nx">type</span><span class="p">,</span>
      <span class="nx">headers</span><span class="o">:</span> <span class="nx">headers</span><span class="p">,</span>
      <span class="nx">body</span><span class="o">:</span> <span class="nx">body</span><span class="p">,</span>
      <span class="nx">useJQuery</span><span class="o">:</span> <span class="k">this</span><span class="p">.</span><span class="nx">useJQuery</span><span class="p">,</span>
      <span class="nx">on</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">error</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
          <span class="k">return</span> <span class="nx">_this</span><span class="p">.</span><span class="nx">errorCallback</span><span class="p">(</span><span class="nx">response</span><span class="p">,</span> <span class="nx">_this</span><span class="p">.</span><span class="nx">opts</span><span class="p">.</span><span class="nx">parent</span><span class="p">);</span>
        <span class="p">},</span>
        <span class="nx">redirect</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
          <span class="k">return</span> <span class="nx">_this</span><span class="p">.</span><span class="nx">successCallback</span><span class="p">(</span><span class="nx">response</span><span class="p">,</span> <span class="nx">_this</span><span class="p">.</span><span class="nx">opts</span><span class="p">.</span><span class="nx">parent</span><span class="p">);</span>
        <span class="p">},</span>
        <span class="mi">307</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
          <span class="k">return</span> <span class="nx">_this</span><span class="p">.</span><span class="nx">successCallback</span><span class="p">(</span><span class="nx">response</span><span class="p">,</span> <span class="nx">_this</span><span class="p">.</span><span class="nx">opts</span><span class="p">.</span><span class="nx">parent</span><span class="p">);</span>
        <span class="p">},</span>
        <span class="nx">response</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
          <span class="k">return</span> <span class="nx">_this</span><span class="p">.</span><span class="nx">successCallback</span><span class="p">(</span><span class="nx">response</span><span class="p">,</span> <span class="nx">_this</span><span class="p">.</span><span class="nx">opts</span><span class="p">.</span><span class="nx">parent</span><span class="p">);</span>
        <span class="p">}</span>
      <span class="p">}</span>
    <span class="p">};</span>
    <span class="kd">var</span> <span class="nx">e</span><span class="p">;</span>
    <span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nb">window</span> <span class="o">!==</span> <span class="s1">&#39;undefined&#39;</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">e</span> <span class="o">=</span> <span class="nb">window</span><span class="p">;</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
      <span class="nx">e</span> <span class="o">=</span> <span class="nx">exports</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="nx">status</span> <span class="o">=</span> <span class="nx">e</span><span class="p">.</span><span class="nx">authorizations</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="nx">obj</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">operation</span><span class="p">.</span><span class="nx">authorizations</span><span class="p">);</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">opts</span><span class="p">.</span><span class="nx">mock</span> <span class="o">==</span> <span class="kc">null</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">if</span> <span class="p">(</span><span class="nx">status</span> <span class="o">!==</span> <span class="kc">false</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">new</span> <span class="nx">SwaggerHttp</span><span class="p">().</span><span class="nx">execute</span><span class="p">(</span><span class="nx">obj</span><span class="p">);</span>
      <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="nx">obj</span><span class="p">.</span><span class="nx">canceled</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
      <span class="p">}</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
      <span class="k">return</span> <span class="nx">obj</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">};</span>

<span class="nx">SwaggerRequest</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">setHeaders</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">params</span><span class="p">,</span> <span class="nx">operation</span><span class="p">)</span> <span class="p">{</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-11" id="section-11">&#182;</a>
</div>
<p>default type</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
  <span class="kd">var</span> <span class="nx">accepts</span> <span class="o">=</span> <span class="s2">&quot;application/json&quot;</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">consumes</span> <span class="o">=</span> <span class="s2">&quot;application/json&quot;</span><span class="p">;</span>

  <span class="kd">var</span> <span class="nx">allDefinedParams</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">operation</span><span class="p">.</span><span class="nx">parameters</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">definedFormParams</span> <span class="o">=</span> <span class="p">[];</span>
  <span class="kd">var</span> <span class="nx">definedFileParams</span> <span class="o">=</span> <span class="p">[];</span>
  <span class="kd">var</span> <span class="nx">body</span> <span class="o">=</span> <span class="nx">params</span><span class="p">.</span><span class="nx">body</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">headers</span> <span class="o">=</span> <span class="p">{};</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-12" id="section-12">&#182;</a>
</div>
<p>get params from the operation and set them in definedFileParams, definedFormParams, headers</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
  <span class="kd">var</span> <span class="nx">i</span><span class="p">;</span>
  <span class="k">for</span><span class="p">(</span><span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">allDefinedParams</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">param</span> <span class="o">=</span> <span class="nx">allDefinedParams</span><span class="p">[</span><span class="nx">i</span><span class="p">];</span>
    <span class="k">if</span><span class="p">(</span><span class="nx">param</span><span class="p">.</span><span class="nx">paramType</span> <span class="o">===</span> <span class="s2">&quot;form&quot;</span><span class="p">)</span>
      <span class="nx">definedFormParams</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">param</span><span class="p">);</span>
    <span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="nx">param</span><span class="p">.</span><span class="nx">paramType</span> <span class="o">===</span> <span class="s2">&quot;file&quot;</span><span class="p">)</span>
      <span class="nx">definedFileParams</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">param</span><span class="p">);</span>
    <span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="nx">param</span><span class="p">.</span><span class="nx">paramType</span> <span class="o">===</span> <span class="s2">&quot;header&quot;</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">params</span><span class="p">.</span><span class="nx">headers</span><span class="p">)</span> <span class="p">{</span>
      <span class="kd">var</span> <span class="nx">key</span> <span class="o">=</span> <span class="nx">param</span><span class="p">.</span><span class="nx">name</span><span class="p">;</span>
      <span class="kd">var</span> <span class="nx">headerValue</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">params</span><span class="p">.</span><span class="nx">headers</span><span class="p">[</span><span class="nx">param</span><span class="p">.</span><span class="nx">name</span><span class="p">];</span>
      <span class="k">if</span><span class="p">(</span><span class="k">typeof</span> <span class="k">this</span><span class="p">.</span><span class="nx">params</span><span class="p">.</span><span class="nx">headers</span><span class="p">[</span><span class="nx">param</span><span class="p">.</span><span class="nx">name</span><span class="p">]</span> <span class="o">!==</span> <span class="s1">&#39;undefined&#39;</span><span class="p">)</span>
        <span class="nx">headers</span><span class="p">[</span><span class="nx">key</span><span class="p">]</span> <span class="o">=</span> <span class="nx">headerValue</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="p">}</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-13" id="section-13">&#182;</a>
</div>
<p>if there's a body, need to set the accepts header via requestContentType</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
  <span class="k">if</span> <span class="p">(</span><span class="nx">body</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">type</span> <span class="o">===</span> <span class="s2">&quot;POST&quot;</span> <span class="o">||</span> <span class="k">this</span><span class="p">.</span><span class="nx">type</span> <span class="o">===</span> <span class="s2">&quot;PUT&quot;</span> <span class="o">||</span> <span class="k">this</span><span class="p">.</span><span class="nx">type</span> <span class="o">===</span> <span class="s2">&quot;PATCH&quot;</span> <span class="o">||</span> <span class="k">this</span><span class="p">.</span><span class="nx">type</span> <span class="o">===</span> <span class="s2">&quot;DELETE&quot;</span><span class="p">))</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">opts</span><span class="p">.</span><span class="nx">requestContentType</span><span class="p">)</span>
      <span class="nx">consumes</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">opts</span><span class="p">.</span><span class="nx">requestContentType</span><span class="p">;</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-14" id="section-14">&#182;</a>
</div>
<p>if any form params, content type must be set</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
    <span class="k">if</span><span class="p">(</span><span class="nx">definedFormParams</span><span class="p">.</span><span class="nx">length</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">if</span><span class="p">(</span><span class="nx">definedFileParams</span><span class="p">.</span><span class="nx">length</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span>
        <span class="nx">consumes</span> <span class="o">=</span> <span class="s2">&quot;multipart/form-data&quot;</span><span class="p">;</span>
      <span class="k">else</span>
        <span class="nx">consumes</span> <span class="o">=</span> <span class="s2">&quot;application/x-www-form-urlencoded&quot;</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">type</span> <span class="o">===</span> <span class="s2">&quot;DELETE&quot;</span><span class="p">)</span>
      <span class="nx">body</span> <span class="o">=</span> <span class="s2">&quot;{}&quot;</span><span class="p">;</span>
    <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">type</span> <span class="o">!=</span> <span class="s2">&quot;DELETE&quot;</span><span class="p">)</span>
      <span class="nx">accepts</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="k">if</span> <span class="p">(</span><span class="nx">consumes</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">operation</span><span class="p">.</span><span class="nx">consumes</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">operation</span><span class="p">.</span><span class="nx">consumes</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="nx">consumes</span><span class="p">)</span> <span class="o">===</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">log</span><span class="p">(</span><span class="s2">&quot;server doesn&#39;t consume &quot;</span> <span class="o">+</span> <span class="nx">consumes</span> <span class="o">+</span> <span class="s2">&quot;, try &quot;</span> <span class="o">+</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">operation</span><span class="p">.</span><span class="nx">consumes</span><span class="p">));</span>
      <span class="nx">consumes</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">operation</span><span class="p">.</span><span class="nx">consumes</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
    <span class="p">}</span>
  <span class="p">}</span>

  <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">opts</span><span class="p">.</span><span class="nx">responseContentType</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">accepts</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">opts</span><span class="p">.</span><span class="nx">responseContentType</span><span class="p">;</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="nx">accepts</span> <span class="o">=</span> <span class="s2">&quot;application/json&quot;</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">accepts</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">operation</span><span class="p">.</span><span class="nx">produces</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">operation</span><span class="p">.</span><span class="nx">produces</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="nx">accepts</span><span class="p">)</span> <span class="o">===</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">log</span><span class="p">(</span><span class="s2">&quot;server can&#39;t produce &quot;</span> <span class="o">+</span> <span class="nx">accepts</span><span class="p">);</span>
      <span class="nx">accepts</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">operation</span><span class="p">.</span><span class="nx">produces</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
    <span class="p">}</span>
  <span class="p">}</span>

  <span class="k">if</span> <span class="p">((</span><span class="nx">consumes</span> <span class="o">&amp;&amp;</span> <span class="nx">body</span> <span class="o">!==</span> <span class="s2">&quot;&quot;</span><span class="p">)</span> <span class="o">||</span> <span class="p">(</span><span class="nx">consumes</span> <span class="o">===</span> <span class="s2">&quot;application/x-www-form-urlencoded&quot;</span><span class="p">))</span>
    <span class="nx">headers</span><span class="p">[</span><span class="s2">&quot;Content-Type&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="nx">consumes</span><span class="p">;</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">accepts</span><span class="p">)</span>
    <span class="nx">headers</span><span class="p">[</span><span class="s2">&quot;Accept&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="nx">accepts</span><span class="p">;</span>
  <span class="k">return</span> <span class="nx">headers</span><span class="p">;</span>
<span class="p">}</span>

<span class="nx">SwaggerRequest</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">asCurl</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">results</span> <span class="o">=</span> <span class="p">[];</span>
  <span class="k">if</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">headers</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">key</span><span class="p">;</span>
    <span class="k">for</span><span class="p">(</span><span class="nx">key</span> <span class="k">in</span> <span class="k">this</span><span class="p">.</span><span class="nx">headers</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">results</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="s2">&quot;--header \&quot;&quot;</span> <span class="o">+</span> <span class="nx">key</span> <span class="o">+</span> <span class="s2">&quot;: &quot;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">headers</span><span class="p">[</span><span class="nx">v</span><span class="p">]</span> <span class="o">+</span> <span class="s2">&quot;\&quot;&quot;</span><span class="p">);</span>
    <span class="p">}</span>
  <span class="p">}</span>
  <span class="k">return</span> <span class="s2">&quot;curl &quot;</span> <span class="o">+</span> <span class="p">(</span><span class="nx">results</span><span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">))</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">url</span><span class="p">;</span>
<span class="p">};</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-15" id="section-15">&#182;</a>
</div>
<div class="dox">
  <div class="summary"><p>SwaggerHttp is a wrapper for executing requests</p>
  </div>
  <div class="body">
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="kd">var</span> <span class="nx">SwaggerHttp</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{};</span>

<span class="nx">SwaggerHttp</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">execute</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">obj</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span><span class="p">(</span><span class="nx">obj</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">obj</span><span class="p">.</span><span class="nx">useJQuery</span> <span class="o">===</span> <span class="s1">&#39;boolean&#39;</span><span class="p">))</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">useJQuery</span> <span class="o">=</span> <span class="nx">obj</span><span class="p">.</span><span class="nx">useJQuery</span><span class="p">;</span>
  <span class="k">else</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">useJQuery</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">isIE8</span><span class="p">();</span>

  <span class="k">if</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">useJQuery</span><span class="p">)</span>
    <span class="k">return</span> <span class="k">new</span> <span class="nx">JQueryHttpClient</span><span class="p">().</span><span class="nx">execute</span><span class="p">(</span><span class="nx">obj</span><span class="p">);</span>
  <span class="k">else</span>
    <span class="k">return</span> <span class="k">new</span> <span class="nx">ShredHttpClient</span><span class="p">().</span><span class="nx">execute</span><span class="p">(</span><span class="nx">obj</span><span class="p">);</span>
<span class="p">}</span>

<span class="nx">SwaggerHttp</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">isIE8</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">detectedIE</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
  <span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">navigator</span> <span class="o">!==</span> <span class="s1">&#39;undefined&#39;</span> <span class="o">&amp;&amp;</span> <span class="nx">navigator</span><span class="p">.</span><span class="nx">userAgent</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">nav</span> <span class="o">=</span> <span class="nx">navigator</span><span class="p">.</span><span class="nx">userAgent</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">();</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">nav</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="s1">&#39;msie&#39;</span><span class="p">)</span> <span class="o">!==</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
      <span class="kd">var</span> <span class="nx">version</span> <span class="o">=</span> <span class="nb">parseInt</span><span class="p">(</span><span class="nx">nav</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="s1">&#39;msie&#39;</span><span class="p">)[</span><span class="mi">1</span><span class="p">]);</span>
      <span class="k">if</span> <span class="p">(</span><span class="nx">version</span> <span class="o">&lt;=</span> <span class="mi">8</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">detectedIE</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">}</span>
  <span class="k">return</span> <span class="nx">detectedIE</span><span class="p">;</span>
<span class="p">};</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-16" id="section-16">&#182;</a>
</div>
<div class="dox">
  <div class="summary"><p>JQueryHttpClient lets a browser take advantage of JQuery's cross-browser magic.
NOTE: when jQuery is available it will export both '$' and 'jQuery' to the global space.
      Since we are using closures here we need to alias it for internal use.</p>
  </div>
  <div class="body">
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="kd">var</span> <span class="nx">JQueryHttpClient</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">options</span><span class="p">)</span> <span class="p">{</span>
  <span class="s2">&quot;use strict&quot;</span><span class="p">;</span>
  <span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">jQuery</span><span class="p">){</span>
    <span class="kd">var</span> <span class="nx">jQuery</span> <span class="o">=</span> <span class="nb">window</span><span class="p">.</span><span class="nx">jQuery</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="nx">JQueryHttpClient</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">execute</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">obj</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">cb</span> <span class="o">=</span> <span class="nx">obj</span><span class="p">.</span><span class="nx">on</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">obj</span><span class="p">;</span>

  <span class="nx">obj</span><span class="p">.</span><span class="nx">type</span> <span class="o">=</span> <span class="nx">obj</span><span class="p">.</span><span class="nx">method</span><span class="p">;</span>
  <span class="nx">obj</span><span class="p">.</span><span class="nx">cache</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>

  <span class="nx">obj</span><span class="p">.</span><span class="nx">beforeSend</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">xhr</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">key</span><span class="p">,</span> <span class="nx">results</span><span class="p">;</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">obj</span><span class="p">.</span><span class="nx">headers</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">results</span> <span class="o">=</span> <span class="p">[];</span>
      <span class="kd">var</span> <span class="nx">key</span><span class="p">;</span>
      <span class="k">for</span> <span class="p">(</span><span class="nx">key</span> <span class="k">in</span> <span class="nx">obj</span><span class="p">.</span><span class="nx">headers</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">key</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">()</span> <span class="o">===</span> <span class="s2">&quot;content-type&quot;</span><span class="p">)</span> <span class="p">{</span>
          <span class="nx">results</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">obj</span><span class="p">.</span><span class="nx">contentType</span> <span class="o">=</span> <span class="nx">obj</span><span class="p">.</span><span class="nx">headers</span><span class="p">[</span><span class="nx">key</span><span class="p">]);</span>
        <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">key</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">()</span> <span class="o">===</span> <span class="s2">&quot;accept&quot;</span><span class="p">)</span> <span class="p">{</span>
          <span class="nx">results</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">obj</span><span class="p">.</span><span class="nx">accepts</span> <span class="o">=</span> <span class="nx">obj</span><span class="p">.</span><span class="nx">headers</span><span class="p">[</span><span class="nx">key</span><span class="p">]);</span>
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
          <span class="nx">results</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">xhr</span><span class="p">.</span><span class="nx">setRequestHeader</span><span class="p">(</span><span class="nx">key</span><span class="p">,</span> <span class="nx">obj</span><span class="p">.</span><span class="nx">headers</span><span class="p">[</span><span class="nx">key</span><span class="p">]));</span>
        <span class="p">}</span>
      <span class="p">}</span>
      <span class="k">return</span> <span class="nx">results</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="p">};</span>

  <span class="nx">obj</span><span class="p">.</span><span class="nx">data</span> <span class="o">=</span> <span class="nx">obj</span><span class="p">.</span><span class="nx">body</span><span class="p">;</span>
  <span class="nx">obj</span><span class="p">.</span><span class="nx">complete</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">response</span><span class="p">,</span> <span class="nx">textStatus</span><span class="p">,</span> <span class="nx">opts</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">headers</span> <span class="o">=</span> <span class="p">{},</span>
        <span class="nx">headerArray</span> <span class="o">=</span> <span class="nx">response</span><span class="p">.</span><span class="nx">getAllResponseHeaders</span><span class="p">().</span><span class="nx">split</span><span class="p">(</span><span class="s2">&quot;\n&quot;</span><span class="p">);</span>

    <span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">headerArray</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
      <span class="kd">var</span> <span class="nx">toSplit</span> <span class="o">=</span> <span class="nx">headerArray</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">trim</span><span class="p">();</span>
      <span class="k">if</span><span class="p">(</span><span class="nx">toSplit</span><span class="p">.</span><span class="nx">length</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span>
        <span class="k">continue</span><span class="p">;</span>
      <span class="kd">var</span> <span class="nx">separator</span> <span class="o">=</span> <span class="nx">toSplit</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="s2">&quot;:&quot;</span><span class="p">);</span>
      <span class="k">if</span><span class="p">(</span><span class="nx">separator</span> <span class="o">===</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="p">{</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-17" id="section-17">&#182;</a>
</div>
<p>Name but no value in the header</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
        <span class="nx">headers</span><span class="p">[</span><span class="nx">toSplit</span><span class="p">]</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
        <span class="k">continue</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="kd">var</span> <span class="nx">name</span> <span class="o">=</span> <span class="nx">toSplit</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nx">separator</span><span class="p">).</span><span class="nx">trim</span><span class="p">(),</span>
          <span class="nx">value</span> <span class="o">=</span> <span class="nx">toSplit</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="nx">separator</span> <span class="o">+</span> <span class="mi">1</span><span class="p">).</span><span class="nx">trim</span><span class="p">();</span>
      <span class="nx">headers</span><span class="p">[</span><span class="nx">name</span><span class="p">]</span> <span class="o">=</span> <span class="nx">value</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="kd">var</span> <span class="nx">out</span> <span class="o">=</span> <span class="p">{</span>
      <span class="nx">url</span><span class="o">:</span> <span class="nx">request</span><span class="p">.</span><span class="nx">url</span><span class="p">,</span>
      <span class="nx">method</span><span class="o">:</span> <span class="nx">request</span><span class="p">.</span><span class="nx">method</span><span class="p">,</span>
      <span class="nx">status</span><span class="o">:</span> <span class="nx">response</span><span class="p">.</span><span class="nx">status</span><span class="p">,</span>
      <span class="nx">data</span><span class="o">:</span> <span class="nx">response</span><span class="p">.</span><span class="nx">responseText</span><span class="p">,</span>
      <span class="nx">headers</span><span class="o">:</span> <span class="nx">headers</span>
    <span class="p">};</span>

    <span class="kd">var</span> <span class="nx">contentType</span> <span class="o">=</span> <span class="p">(</span><span class="nx">headers</span><span class="p">[</span><span class="s2">&quot;content-type&quot;</span><span class="p">]</span><span class="o">||</span><span class="nx">headers</span><span class="p">[</span><span class="s2">&quot;Content-Type&quot;</span><span class="p">]</span><span class="o">||</span><span class="kc">null</span><span class="p">)</span>

    <span class="k">if</span><span class="p">(</span><span class="nx">contentType</span> <span class="o">!=</span> <span class="kc">null</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">if</span><span class="p">(</span><span class="nx">contentType</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="s2">&quot;application/json&quot;</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span> <span class="o">||</span> <span class="nx">contentType</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="s2">&quot;+json&quot;</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span><span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">responseText</span> <span class="o">&amp;&amp;</span> <span class="nx">response</span><span class="p">.</span><span class="nx">responseText</span> <span class="o">!==</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
          <span class="nx">out</span><span class="p">.</span><span class="nx">obj</span> <span class="o">=</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">responseText</span><span class="p">);</span>
        <span class="k">else</span>
          <span class="nx">out</span><span class="p">.</span><span class="nx">obj</span> <span class="o">=</span> <span class="p">{}</span>
      <span class="p">}</span>
    <span class="p">}</span>

    <span class="k">if</span><span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">status</span> <span class="o">&gt;=</span> <span class="mi">200</span> <span class="o">&amp;&amp;</span> <span class="nx">response</span><span class="p">.</span><span class="nx">status</span> <span class="o">&lt;</span> <span class="mi">300</span><span class="p">)</span>
      <span class="nx">cb</span><span class="p">.</span><span class="nx">response</span><span class="p">(</span><span class="nx">out</span><span class="p">);</span>
    <span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">status</span> <span class="o">===</span> <span class="mi">0</span> <span class="o">||</span> <span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">status</span> <span class="o">&gt;=</span> <span class="mi">400</span> <span class="o">&amp;&amp;</span> <span class="nx">response</span><span class="p">.</span><span class="nx">status</span> <span class="o">&lt;</span> <span class="mi">599</span><span class="p">))</span>
      <span class="nx">cb</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">out</span><span class="p">);</span>
    <span class="k">else</span>
      <span class="k">return</span> <span class="nx">cb</span><span class="p">.</span><span class="nx">response</span><span class="p">(</span><span class="nx">out</span><span class="p">);</span>
  <span class="p">};</span>

  <span class="nx">jQuery</span><span class="p">.</span><span class="nx">support</span><span class="p">.</span><span class="nx">cors</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
  <span class="k">return</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">obj</span><span class="p">);</span>
<span class="p">}</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-18" id="section-18">&#182;</a>
</div>
<div class="dox">
  <div class="summary"><p>ShredHttpClient is a light-weight, node or browser HTTP client</p>
  </div>
  <div class="body">
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="kd">var</span> <span class="nx">ShredHttpClient</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">options</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">options</span> <span class="o">=</span> <span class="p">(</span><span class="nx">options</span><span class="o">||</span><span class="p">{});</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">isInitialized</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>

  <span class="kd">var</span> <span class="nx">identity</span><span class="p">,</span> <span class="nx">toString</span><span class="p">;</span>

  <span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nb">window</span> <span class="o">!==</span> <span class="s1">&#39;undefined&#39;</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">Shred</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">&quot;./shred&quot;</span><span class="p">);</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">content</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">&quot;./shred/content&quot;</span><span class="p">);</span>
  <span class="p">}</span>
  <span class="k">else</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">Shred</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">&quot;shred&quot;</span><span class="p">);</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">shred</span> <span class="o">=</span> <span class="k">new</span> <span class="k">this</span><span class="p">.</span><span class="nx">Shred</span><span class="p">();</span>
<span class="p">}</span>

<span class="nx">ShredHttpClient</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">initShred</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">isInitialized</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">registerProcessors</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">shred</span><span class="p">);</span>
<span class="p">}</span>

<span class="nx">ShredHttpClient</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">registerProcessors</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">shred</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">identity</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">x</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">x</span><span class="p">;</span>
  <span class="p">};</span>
  <span class="kd">var</span> <span class="nx">toString</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">x</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">x</span><span class="p">.</span><span class="nx">toString</span><span class="p">();</span>
  <span class="p">};</span>

  <span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nb">window</span> <span class="o">!==</span> <span class="s1">&#39;undefined&#39;</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">content</span><span class="p">.</span><span class="nx">registerProcessor</span><span class="p">([</span><span class="s2">&quot;application/json; charset=utf-8&quot;</span><span class="p">,</span> <span class="s2">&quot;application/json&quot;</span><span class="p">,</span> <span class="s2">&quot;json&quot;</span><span class="p">],</span> <span class="p">{</span>
      <span class="nx">parser</span><span class="o">:</span> <span class="nx">identity</span><span class="p">,</span>
      <span class="nx">stringify</span><span class="o">:</span> <span class="nx">toString</span>
    <span class="p">});</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">Shred</span><span class="p">.</span><span class="nx">registerProcessor</span><span class="p">([</span><span class="s2">&quot;application/json; charset=utf-8&quot;</span><span class="p">,</span> <span class="s2">&quot;application/json&quot;</span><span class="p">,</span> <span class="s2">&quot;json&quot;</span><span class="p">],</span> <span class="p">{</span>
      <span class="nx">parser</span><span class="o">:</span> <span class="nx">identity</span><span class="p">,</span>
      <span class="nx">stringify</span><span class="o">:</span> <span class="nx">toString</span>
    <span class="p">});</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="nx">ShredHttpClient</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">execute</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">obj</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="k">this</span><span class="p">.</span><span class="nx">isInitialized</span><span class="p">)</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">initShred</span><span class="p">();</span>

  <span class="kd">var</span> <span class="nx">cb</span> <span class="o">=</span> <span class="nx">obj</span><span class="p">.</span><span class="nx">on</span><span class="p">,</span> <span class="nx">res</span><span class="p">;</span>

  <span class="kd">var</span> <span class="nx">transform</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">out</span> <span class="o">=</span> <span class="p">{</span>
      <span class="nx">headers</span><span class="o">:</span> <span class="nx">response</span><span class="p">.</span><span class="nx">_headers</span><span class="p">,</span>
      <span class="nx">url</span><span class="o">:</span> <span class="nx">response</span><span class="p">.</span><span class="nx">request</span><span class="p">.</span><span class="nx">url</span><span class="p">,</span>
      <span class="nx">method</span><span class="o">:</span> <span class="nx">response</span><span class="p">.</span><span class="nx">request</span><span class="p">.</span><span class="nx">method</span><span class="p">,</span>
      <span class="nx">status</span><span class="o">:</span> <span class="nx">response</span><span class="p">.</span><span class="nx">status</span><span class="p">,</span>
      <span class="nx">data</span><span class="o">:</span> <span class="nx">response</span><span class="p">.</span><span class="nx">content</span><span class="p">.</span><span class="nx">data</span>
    <span class="p">};</span>

    <span class="kd">var</span> <span class="nx">contentType</span> <span class="o">=</span> <span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">_headers</span><span class="p">[</span><span class="s2">&quot;content-type&quot;</span><span class="p">]</span><span class="o">||</span><span class="nx">response</span><span class="p">.</span><span class="nx">_headers</span><span class="p">[</span><span class="s2">&quot;Content-Type&quot;</span><span class="p">]</span><span class="o">||</span><span class="kc">null</span><span class="p">)</span>

    <span class="k">if</span><span class="p">(</span><span class="nx">contentType</span> <span class="o">!=</span> <span class="kc">null</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">if</span><span class="p">(</span><span class="nx">contentType</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="s2">&quot;application/json&quot;</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span> <span class="o">||</span> <span class="nx">contentType</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="s2">&quot;+json&quot;</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span><span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">content</span><span class="p">.</span><span class="nx">data</span> <span class="o">&amp;&amp;</span> <span class="nx">response</span><span class="p">.</span><span class="nx">content</span><span class="p">.</span><span class="nx">data</span> <span class="o">!==</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
          <span class="nx">out</span><span class="p">.</span><span class="nx">obj</span> <span class="o">=</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">content</span><span class="p">.</span><span class="nx">data</span><span class="p">);</span>
        <span class="k">else</span>
          <span class="nx">out</span><span class="p">.</span><span class="nx">obj</span> <span class="o">=</span> <span class="p">{}</span>
      <span class="p">}</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="nx">out</span><span class="p">;</span>
  <span class="p">};</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-19" id="section-19">&#182;</a>
</div>
<p>Transform an error into a usable response-like object</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
  <span class="kd">var</span> <span class="nx">transformError</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">out</span> <span class="o">=</span> <span class="p">{</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-20" id="section-20">&#182;</a>
</div>
<p>Default to a status of 0 - The client will treat this as a generic permissions sort of error</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
      <span class="nx">status</span><span class="o">:</span> <span class="mi">0</span><span class="p">,</span>
      <span class="nx">data</span><span class="o">:</span> <span class="nx">error</span><span class="p">.</span><span class="nx">message</span> <span class="o">||</span> <span class="nx">error</span>
    <span class="p">};</span>

    <span class="k">if</span><span class="p">(</span><span class="nx">error</span><span class="p">.</span><span class="nx">code</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">out</span><span class="p">.</span><span class="nx">obj</span> <span class="o">=</span> <span class="nx">error</span><span class="p">;</span>

      <span class="k">if</span><span class="p">(</span><span class="nx">error</span><span class="p">.</span><span class="nx">code</span> <span class="o">===</span> <span class="s1">&#39;ENOTFOUND&#39;</span> <span class="o">||</span> <span class="nx">error</span><span class="p">.</span><span class="nx">code</span> <span class="o">===</span> <span class="s1">&#39;ECONNREFUSED&#39;</span> <span class="p">)</span> <span class="p">{</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-21" id="section-21">&#182;</a>
</div>
<p>We can tell the client that this should be treated as a missing resource and not as a permissions thing</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
        <span class="nx">out</span><span class="p">.</span><span class="nx">status</span> <span class="o">=</span> <span class="mi">404</span><span class="p">;</span>
      <span class="p">}</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="nx">out</span><span class="p">;</span>
  <span class="p">};</span>

  <span class="nx">res</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">error</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">if</span> <span class="p">(</span><span class="nx">obj</span><span class="p">)</span>
        <span class="k">return</span> <span class="nx">cb</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">transform</span><span class="p">(</span><span class="nx">response</span><span class="p">));</span>
    <span class="p">},</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-22" id="section-22">&#182;</a>
</div>
<p>Catch the Shred error raised when the request errors as it is made (i.e. No Response is coming)</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
    <span class="nx">request_error</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">if</span><span class="p">(</span><span class="nx">obj</span><span class="p">)</span>
        <span class="k">return</span> <span class="nx">cb</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">transformError</span><span class="p">(</span><span class="nx">err</span><span class="p">));</span>
    <span class="p">},</span>
    <span class="nx">redirect</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">if</span> <span class="p">(</span><span class="nx">obj</span><span class="p">)</span>
        <span class="k">return</span> <span class="nx">cb</span><span class="p">.</span><span class="nx">redirect</span><span class="p">(</span><span class="nx">transform</span><span class="p">(</span><span class="nx">response</span><span class="p">));</span>
    <span class="p">},</span>
    <span class="mi">307</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">if</span> <span class="p">(</span><span class="nx">obj</span><span class="p">)</span>
        <span class="k">return</span> <span class="nx">cb</span><span class="p">.</span><span class="nx">redirect</span><span class="p">(</span><span class="nx">transform</span><span class="p">(</span><span class="nx">response</span><span class="p">));</span>
    <span class="p">},</span>
    <span class="nx">response</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">if</span> <span class="p">(</span><span class="nx">obj</span><span class="p">)</span>
        <span class="k">return</span> <span class="nx">cb</span><span class="p">.</span><span class="nx">response</span><span class="p">(</span><span class="nx">transform</span><span class="p">(</span><span class="nx">response</span><span class="p">));</span>
    <span class="p">}</span>
  <span class="p">};</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">obj</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">obj</span><span class="p">.</span><span class="nx">on</span> <span class="o">=</span> <span class="nx">res</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">shred</span><span class="p">.</span><span class="nx">request</span><span class="p">(</span><span class="nx">obj</span><span class="p">);</span>
<span class="p">};</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-23" id="section-23">&#182;</a>
</div>
<div class="dox">
  <div class="summary"><p>SwaggerAuthorizations applys the correct authorization to an operation being executed</p>
  </div>
  <div class="body">
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="kd">var</span> <span class="nx">SwaggerAuthorizations</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">authz</span> <span class="o">=</span> <span class="p">{};</span>
<span class="p">};</span>

<span class="nx">SwaggerAuthorizations</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">add</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">name</span><span class="p">,</span> <span class="nx">auth</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">authz</span><span class="p">[</span><span class="nx">name</span><span class="p">]</span> <span class="o">=</span> <span class="nx">auth</span><span class="p">;</span>
  <span class="k">return</span> <span class="nx">auth</span><span class="p">;</span>
<span class="p">};</span>

<span class="nx">SwaggerAuthorizations</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">remove</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">name</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="k">delete</span> <span class="k">this</span><span class="p">.</span><span class="nx">authz</span><span class="p">[</span><span class="nx">name</span><span class="p">];</span>
<span class="p">};</span>

<span class="nx">SwaggerAuthorizations</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">apply</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">obj</span><span class="p">,</span> <span class="nx">authorizations</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">status</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">key</span><span class="p">;</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-24" id="section-24">&#182;</a>
</div>
<p>if the "authorizations" key is undefined, or has an empty array, add all keys</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
  <span class="k">if</span><span class="p">(</span><span class="k">typeof</span> <span class="nx">authorizations</span> <span class="o">===</span> <span class="s1">&#39;undefined&#39;</span> <span class="o">||</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">keys</span><span class="p">(</span><span class="nx">authorizations</span><span class="p">).</span><span class="nx">length</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">for</span> <span class="p">(</span><span class="nx">key</span> <span class="k">in</span> <span class="k">this</span><span class="p">.</span><span class="nx">authz</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">value</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">authz</span><span class="p">[</span><span class="nx">key</span><span class="p">];</span>
      <span class="nx">result</span> <span class="o">=</span> <span class="nx">value</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="nx">obj</span><span class="p">,</span> <span class="nx">authorizations</span><span class="p">);</span>
      <span class="k">if</span> <span class="p">(</span><span class="nx">result</span> <span class="o">===</span> <span class="kc">true</span><span class="p">)</span>
        <span class="nx">status</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="p">}</span>
  <span class="k">else</span> <span class="p">{</span>
    <span class="k">for</span><span class="p">(</span><span class="nx">name</span> <span class="k">in</span> <span class="nx">authorizations</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">for</span> <span class="p">(</span><span class="nx">key</span> <span class="k">in</span> <span class="k">this</span><span class="p">.</span><span class="nx">authz</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span><span class="p">(</span><span class="nx">key</span> <span class="o">==</span> <span class="nx">name</span><span class="p">)</span> <span class="p">{</span>
          <span class="nx">value</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">authz</span><span class="p">[</span><span class="nx">key</span><span class="p">];</span>
          <span class="nx">result</span> <span class="o">=</span> <span class="nx">value</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="nx">obj</span><span class="p">,</span> <span class="nx">authorizations</span><span class="p">);</span>
          <span class="k">if</span> <span class="p">(</span><span class="nx">result</span> <span class="o">===</span> <span class="kc">true</span><span class="p">)</span>
            <span class="nx">status</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
        <span class="p">}</span>
      <span class="p">}</span>      
    <span class="p">}</span>
  <span class="p">}</span>

  <span class="k">return</span> <span class="nx">status</span><span class="p">;</span>
<span class="p">};</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-25" id="section-25">&#182;</a>
</div>
<div class="dox">
  <div class="summary"><p>ApiKeyAuthorization allows a query param or header to be injected</p>
  </div>
  <div class="body">
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="kd">var</span> <span class="nx">ApiKeyAuthorization</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">name</span><span class="p">,</span> <span class="nx">value</span><span class="p">,</span> <span class="nx">type</span><span class="p">,</span> <span class="nx">delimiter</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">name</span> <span class="o">=</span> <span class="nx">name</span><span class="p">;</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">value</span> <span class="o">=</span> <span class="nx">value</span><span class="p">;</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">type</span> <span class="o">=</span> <span class="nx">type</span><span class="p">;</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">delimiter</span> <span class="o">=</span> <span class="nx">delimiter</span><span class="p">;</span>
<span class="p">};</span>

<span class="nx">ApiKeyAuthorization</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">apply</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">obj</span><span class="p">,</span> <span class="nx">authorizations</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">type</span> <span class="o">===</span> <span class="s2">&quot;query&quot;</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">obj</span><span class="p">.</span><span class="nx">url</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="s1">&#39;?&#39;</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span>
      <span class="nx">obj</span><span class="p">.</span><span class="nx">url</span> <span class="o">=</span> <span class="nx">obj</span><span class="p">.</span><span class="nx">url</span> <span class="o">+</span> <span class="s2">&quot;&amp;&quot;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">name</span> <span class="o">+</span> <span class="s2">&quot;=&quot;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">value</span><span class="p">;</span>
    <span class="k">else</span>
      <span class="nx">obj</span><span class="p">.</span><span class="nx">url</span> <span class="o">=</span> <span class="nx">obj</span><span class="p">.</span><span class="nx">url</span> <span class="o">+</span> <span class="s2">&quot;?&quot;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">name</span> <span class="o">+</span> <span class="s2">&quot;=&quot;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">value</span><span class="p">;</span>
    <span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
  <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">type</span> <span class="o">===</span> <span class="s2">&quot;header&quot;</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span><span class="p">(</span><span class="k">typeof</span> <span class="nx">obj</span><span class="p">.</span><span class="nx">headers</span><span class="p">[</span><span class="k">this</span><span class="p">.</span><span class="nx">name</span><span class="p">]</span> <span class="o">!==</span> <span class="s1">&#39;undefined&#39;</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">if</span><span class="p">(</span><span class="k">typeof</span> <span class="k">this</span><span class="p">.</span><span class="nx">delimiter</span> <span class="o">!==</span> <span class="s1">&#39;undefined&#39;</span><span class="p">)</span>
        <span class="nx">obj</span><span class="p">.</span><span class="nx">headers</span><span class="p">[</span><span class="k">this</span><span class="p">.</span><span class="nx">name</span><span class="p">]</span> <span class="o">=</span> <span class="nx">obj</span><span class="p">.</span><span class="nx">headers</span><span class="p">[</span><span class="k">this</span><span class="p">.</span><span class="nx">name</span><span class="p">]</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">delimiter</span> <span class="o">+</span>  <span class="k">this</span><span class="p">.</span><span class="nx">value</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">else</span>
      <span class="nx">obj</span><span class="p">.</span><span class="nx">headers</span><span class="p">[</span><span class="k">this</span><span class="p">.</span><span class="nx">name</span><span class="p">]</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">value</span><span class="p">;</span>
    <span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">};</span>

<span class="kd">var</span> <span class="nx">CookieAuthorization</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">cookie</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">cookie</span> <span class="o">=</span> <span class="nx">cookie</span><span class="p">;</span>
<span class="p">}</span>

<span class="nx">CookieAuthorization</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">apply</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">obj</span><span class="p">,</span> <span class="nx">authorizations</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">obj</span><span class="p">.</span><span class="nx">cookieJar</span> <span class="o">=</span> <span class="nx">obj</span><span class="p">.</span><span class="nx">cookieJar</span> <span class="o">||</span> <span class="nx">CookieJar</span><span class="p">();</span>
  <span class="nx">obj</span><span class="p">.</span><span class="nx">cookieJar</span><span class="p">.</span><span class="nx">setCookie</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">cookie</span><span class="p">);</span>
  <span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
<span class="p">}</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-26" id="section-26">&#182;</a>
</div>
<div class="dox">
  <div class="summary"><p>Password Authorization is a basic auth implementation</p>
  </div>
  <div class="body">
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="kd">var</span> <span class="nx">PasswordAuthorization</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">name</span><span class="p">,</span> <span class="nx">username</span><span class="p">,</span> <span class="nx">password</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">name</span> <span class="o">=</span> <span class="nx">name</span><span class="p">;</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">username</span> <span class="o">=</span> <span class="nx">username</span><span class="p">;</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">password</span> <span class="o">=</span> <span class="nx">password</span><span class="p">;</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">_btoa</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
  <span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nb">window</span> <span class="o">!==</span> <span class="s1">&#39;undefined&#39;</span><span class="p">)</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">_btoa</span> <span class="o">=</span> <span class="nx">btoa</span><span class="p">;</span>
  <span class="k">else</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">_btoa</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">&quot;btoa&quot;</span><span class="p">);</span>
<span class="p">};</span>

<span class="nx">PasswordAuthorization</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">apply</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">obj</span><span class="p">,</span> <span class="nx">authorizations</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">base64encoder</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">_btoa</span><span class="p">;</span>
  <span class="nx">obj</span><span class="p">.</span><span class="nx">headers</span><span class="p">[</span><span class="s2">&quot;Authorization&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;Basic &quot;</span> <span class="o">+</span> <span class="nx">base64encoder</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">username</span> <span class="o">+</span> <span class="s2">&quot;:&quot;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">password</span><span class="p">);</span>
  <span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
<span class="p">};</span>

<span class="kd">var</span> <span class="nx">e</span> <span class="o">=</span> <span class="p">(</span><span class="k">typeof</span> <span class="nb">window</span> <span class="o">!==</span> <span class="s1">&#39;undefined&#39;</span> <span class="o">?</span> <span class="nb">window</span> <span class="o">:</span> <span class="nx">exports</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">sampleModels</span> <span class="o">=</span> <span class="p">{};</span>
<span class="kd">var</span> <span class="nx">cookies</span> <span class="o">=</span> <span class="p">{};</span>

<span class="nx">e</span><span class="p">.</span><span class="nx">SampleModels</span> <span class="o">=</span> <span class="nx">sampleModels</span><span class="p">;</span>
<span class="nx">e</span><span class="p">.</span><span class="nx">SwaggerHttp</span> <span class="o">=</span> <span class="nx">SwaggerHttp</span><span class="p">;</span>
<span class="nx">e</span><span class="p">.</span><span class="nx">SwaggerRequest</span> <span class="o">=</span> <span class="nx">SwaggerRequest</span><span class="p">;</span>
<span class="nx">e</span><span class="p">.</span><span class="nx">authorizations</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">SwaggerAuthorizations</span><span class="p">();</span>
<span class="nx">e</span><span class="p">.</span><span class="nx">ApiKeyAuthorization</span> <span class="o">=</span> <span class="nx">ApiKeyAuthorization</span><span class="p">;</span>
<span class="nx">e</span><span class="p">.</span><span class="nx">PasswordAuthorization</span> <span class="o">=</span> <span class="nx">PasswordAuthorization</span><span class="p">;</span>
<span class="nx">e</span><span class="p">.</span><span class="nx">CookieAuthorization</span> <span class="o">=</span> <span class="nx">CookieAuthorization</span><span class="p">;</span>
<span class="nx">e</span><span class="p">.</span><span class="nx">JQueryHttpClient</span> <span class="o">=</span> <span class="nx">JQueryHttpClient</span><span class="p">;</span>
<span class="nx">e</span><span class="p">.</span><span class="nx">ShredHttpClient</span> <span class="o">=</span> <span class="nx">ShredHttpClient</span><span class="p">;</span>
<span class="nx">e</span><span class="p">.</span><span class="nx">SwaggerOperation</span> <span class="o">=</span> <span class="nx">SwaggerOperation</span><span class="p">;</span>
<span class="nx">e</span><span class="p">.</span><span class="nx">SwaggerModel</span> <span class="o">=</span> <span class="nx">SwaggerModel</span><span class="p">;</span>
<span class="nx">e</span><span class="p">.</span><span class="nx">SwaggerModelProperty</span> <span class="o">=</span> <span class="nx">SwaggerModelProperty</span><span class="p">;</span>
<span class="nx">e</span><span class="p">.</span><span class="nx">SwaggerResource</span> <span class="o">=</span> <span class="nx">SwaggerResource</span><span class="p">;</span>
<span class="nx">e</span><span class="p">.</span><span class="nx">SwaggerApi</span> <span class="o">=</span> <span class="nx">SwaggerApi</span><span class="p">;</span>
</pre></div>
        </td>
      </tr>
  </tbody>
</table>
  </div>
</body>
</html>
